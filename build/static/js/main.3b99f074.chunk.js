(this["webpackJsonpblindtest-generator"]=this["webpackJsonpblindtest-generator"]||[]).push([[0],{266:function(e,t,n){},267:function(e,t,n){},273:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},284:function(e,t){},286:function(e,t){},297:function(e,t){},299:function(e,t){},326:function(e,t){},328:function(e,t){},329:function(e,t){},334:function(e,t){},336:function(e,t){},355:function(e,t){},367:function(e,t){},370:function(e,t){},373:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},391:function(e,t,n){},409:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),s=n.n(i),c=n(54),r=n.n(c),o=(n(266),n(267),n(19)),l=n(60),u=n(462),d=n(51),j=n(472),h=n(473);function b(){return Object(a.jsx)("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translate(-50%, -50%)"},children:Object(a.jsxs)(j.a,{variant:"body2",color:"textSecondary",align:"center",style:{backgroundColor:"#282D35",color:"white"},children:["v4.9 - Copyright \xa9 ",Object(a.jsx)(h.a,{color:"inherit",href:"https://github.com/Emolitt/blindtest-generator",target:"_blank",children:"Emolitt"})," ",(new Date).getFullYear(),"."]})})}var m=n(10),f=n(474),g=n(241),O=n(476),x=n(467),v=n(233),p=n.n(v);n(273);function y(){var e=Object(i.useState)(null),t=Object(m.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)(!1),r=Object(m.a)(c,2),o=r[0],l=r[1];return Object(a.jsxs)("div",{className:"helper-icon",children:[Object(a.jsx)(f.a,{edge:"end","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){var t=e.currentTarget;s(t),l(Boolean(t))},color:"inherit",children:Object(a.jsx)(p.a,{})}),Object(a.jsxs)(g.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(){s(null),l(!1)},children:[Object(a.jsx)(j.a,{variant:"h6",align:"center",children:"Input List"}),Object(a.jsx)("div",{children:Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Arrow Up"}),": Volume Up (Max 100)"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Arrow Down"}),": Volume Down (Min 0)"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Arrow Left"}),": Restart Current Element"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Arrow Right"}),": Skip Element"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Space"}),": Toggle Pause/Play"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"Escape"}),": Go Back to Menu"]}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("strong",{children:"F11"}),": Toggle Fullscreen"]})]})})]})]})}var S=n(477),k=n(478),w=n(470);n(278);function C(e){var t=Object(o.f)();return Object(a.jsx)(S.a,{position:"absolute",style:{backgroundColor:"#282D35",flex:1},children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(w.a,{onClick:function(){t("/")},className:"main-menu-btn",children:Object(a.jsx)(j.a,{variant:"h6",color:"inherit",noWrap:!0,style:{color:"white"},children:"Blindtest Generator"})}),Object(a.jsx)(y,{})]})})}var N=n(5),I=n.n(N);I.a.func,I.a.element.isRequired;var M=n(87),A=(n(7),n(459)),T=n(6),D=Object(T.a)("div")((function(e){e.theme;var t=e.ownerState;return Object(M.a)(Object(M.a)({color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},t.active&&{color:"#0FDC06"}),{},{"& .QontoStepIcon-completedIcon":{color:"#0FDC06",zIndex:1,fontSize:18},"& .QontoStepIcon-circle":{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})}));function F(e){var t=e.active,n=e.completed,i=e.className;return Object(a.jsx)(D,{ownerState:{active:t},className:i,children:n?Object(a.jsx)(A.a,{className:"QontoStepIcon-completedIcon"}):Object(a.jsx)("div",{className:"QontoStepIcon-circle"})})}var L=n(4),P=n(479),E=n(480),G=n(481),V=n(466),_=n(460),z=n(234),J=(n(279),n(88)),H={games:!0,songs:!0,movies:!0,series:!0,tvShows:!0,animes:!0},R={easy:!0,medium:!0,hard:!1},B=[13,18],K=!1,W=function(e){localStorage.setItem("blindtest-themes",JSON.stringify(e))},U=function(e){localStorage.setItem("blindtest-difficulties",JSON.stringify(e))},Q=function(e){localStorage.setItem("blindtest-playlist-size",e.toString())},q=function(e){localStorage.setItem("blindtest-timeline",JSON.stringify(e))},Y=function(e){localStorage.setItem("blindtest-allow-multiple-licence",JSON.stringify(e))},X=W,Z=function(){var e=localStorage.getItem("blindtest-themes");return null!==e?JSON.parse(e):(W(H),H)},$=U,ee=function(){var e=localStorage.getItem("blindtest-difficulties");return null!==e?JSON.parse(e):(U(R),R)},te=Q,ne=function(){var e=localStorage.getItem("blindtest-playlist-size");return null!==e?parseInt(e):(Q(100),100)},ae=q,ie=function(){var e=localStorage.getItem("blindtest-timeline");return null!==e?JSON.parse(e):(q(B),B)},se=Y,ce=function(){var e=localStorage.getItem("blindtest-allow-multiple-licence");return null!==e?JSON.parse(e):(Y(K),K)},re=function(){var e=localStorage.getItem("blindtest-themes");if(null!==e){var t=JSON.parse(e);return Object.keys(t).filter((function(e){return t[e]}))}return W(H),Object.keys(H).filter((function(e){return H[e]}))},oe=function(){var e=localStorage.getItem("blindtest-difficulties");if(null!==e){var t=JSON.parse(e);return Object.keys(t).filter((function(e){return t[e]}))}return W(R),Object.keys(R).filter((function(e){return R[e]}))},le=function(){return localStorage.getItem("blindtest-session-id")},ue=function(){localStorage.setItem("blindtest-session-id",Object(J.d)(J.c))},de=function(){return localStorage.setItem("blindtest-session-id",null)},je=R,he=Object(T.a)(_.a)((function(e){var t;e.theme;return t={},Object(L.a)(t,"&.".concat(z.a.alternativeLabel),{borderColor:"#0FDC06",top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"}),Object(L.a)(t,"&.".concat(z.a.active),Object(L.a)({},"& .".concat(z.a.line),{borderColor:"#0FDC06"})),Object(L.a)(t,"&.".concat(z.a.completed),Object(L.a)({},"& .".concat(z.a.line),{borderColor:"#0FDC06"})),Object(L.a)(t,"& .".concat(z.a.line),{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}),t}));function be(e){var t=Object(o.f)(),n=Object(i.useState)(0),s=Object(m.a)(n,2),c=s[0],r=s[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(P.a,{children:Object(a.jsx)(E.a,{alternativeLabel:!0,activeStep:c,connector:Object(a.jsx)(he,{}),style:{marginTop:"100px"},children:e.stepLabels.map((function(e){return Object(a.jsx)(G.a,{children:Object(a.jsx)(V.a,{className:"stepper",StepIconComponent:F,children:e})},e)}))})}),Object(a.jsx)(P.a,{children:Object(a.jsx)("div",{className:"step-container",children:function(){if(c>=e.stepComponents.length)throw new Error("Unknown step");return e.stepComponents[c]}()})}),Object(a.jsxs)("div",{style:{position:"fixed",bottom:"77px",right:"20px"},children:[0!==c&&Object(a.jsx)(w.a,{onClick:function(){r((function(e){return e-1}))},style:{color:"#0FDC06"},children:"Back"}),Object(a.jsx)(w.a,{variant:"contained",style:{backgroundColor:"#0FDC06"},onClick:c===e.stepComponents.length-1?function(){ue(),t("/blindtest")}:function(){r((function(e){return e+1}))},children:c===e.stepComponents.length-1?"Start":"Next"})]})]})}n(373);function me(e){var t=e.id,n=e.title,i=e.backgroundImg,s=e.width,c=e.height,r=e.active,o=e.onClick;return Object(a.jsx)("div",{className:"checkbox-container ".concat(r?"active":""),style:{backgroundImage:"url("+i+")",width:"".concat(150|s,"px"),height:"".concat(150|c,"px")},onClick:function(){return o(t,!r)},children:Object(a.jsx)("span",{children:n})})}var fe=n(159);n(375);function ge(e){var t=Object(i.useState)(1),n=Object(m.a)(t,2),s=n[0],c=n[1],r=Object(fe.useSpring)({from:{transform:"translate(300%,0)"},to:{transform:"translate(-300%,0)"},config:{duration:150*e.message.length},reset:!0,onRest:function(){c(s+1)}});return Object(a.jsx)("div",{className:"scroller-container",children:Object(a.jsx)(fe.animated.div,{style:r,children:e.message})})}n(376);var Oe=n(471),xe=n.p+"static/media/video-games.5a19e227.png",ve=n.p+"static/media/songs.07932405.jpg",pe=n.p+"static/media/movies.8d61db8a.jpg",ye=n.p+"static/media/series.b830a46f.jpg",Se=n.p+"static/media/tv-shows.aec4633e.jpg",ke=n.p+"static/media/animes.90129c5b.jpg",we=Object(T.a)(w.a)((function(e){return{color:e.theme.palette.getContrastText("#000000"),backgroundColor:"transparent",fontSize:"18px",fontWeight:"500","&:hover":{backgroundColor:"#FF6D00"}}}));function Ce(){var e=Z(),t=Object(i.useState)(e),n=Object(m.a)(t,2),s=n[0],c=n[1],r=function(e,t){var n=JSON.parse(JSON.stringify(s));n[e]=t,c(n),X(n)};return Object(a.jsxs)("div",{className:"theme-container",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"Theme Selection"})}),Object(a.jsx)(we,{variant:"text",className:"theme-all-toggle",onClick:function(){var e=Object.keys(s).filter((function(e){return!s[e]})).length>0,t={games:e,songs:e,movies:e,series:e,tvShows:e,animes:e};c(t),X(t)},children:"Toggle All"}),Object(a.jsxs)(Oe.a,{container:!0,spacing:1,className:"theme-grid-container",children:[Object(a.jsxs)(Oe.a,{container:!0,spacing:3,className:"row-centered",children:[Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"games",title:"Video Games",backgroundImg:xe,width:200,height:200,active:s.games,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"songs",title:"Popular Songs",backgroundImg:ve,width:200,height:200,active:s.songs,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"movies",title:"Movies",backgroundImg:pe,width:200,height:200,active:s.movies,onClick:r})})]}),Object(a.jsxs)(Oe.a,{container:!0,spacing:3,className:"row-centered",children:[Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"series",title:"Series",backgroundImg:ye,width:200,height:200,active:s.series,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"tvShows",title:"TV Shows",backgroundImg:Se,width:200,height:200,active:s.tvShows,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:3,className:"item-centered",children:Object(a.jsx)(me,{id:"animes",title:"Animes",backgroundImg:ke,width:200,height:200,active:s.animes,onClick:r})})]})]})]})}var Ne=n(74),Ie=(n(377),n(123)),Me=n(468),Ae=n(469),Te=n(461);function De(){var e=Object(Ne.a)(["\n  width: 100px;\n"]);return De=function(){return e},e}var Fe=Object(Ie.a)(Te.a)(De()),Le=[{value:0,label:"Music Start"},{value:5,label:"5 Sec"},{value:10,label:"10 Sec"},{value:15,label:"15 Sec"},{value:20,label:"20 Sec"},{value:25,label:"End"}],Pe=1e3;function Ee(){var e=ne(),t=ie();t[1]+=t[0];var n=ce(),s=Object(i.useState)(e),c=Object(m.a)(s,2),r=c[0],o=c[1],l=Object(i.useState)(t),u=Object(m.a)(l,2),d=u[0],j=u[1],h=Object(i.useState)(n),b=Object(m.a)(h,2),f=b[0],g=b[1];return Object(a.jsxs)("div",{className:"playlist-customizer-container",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"Playlist Customization"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Playlist size"}),Object(a.jsxs)("div",{className:"playlist-size",children:[Object(a.jsx)(Me.a,{value:"number"===typeof r?r:0,onChange:function(e,t){o(t),te(""===t?0:t)}}),Object(a.jsx)(Fe,{value:r,size:"small",onChange:function(e){o(""===e.target.value?"":Number(e.target.value)),te(""===e.target.value?0:Number(e.target.value))},onBlur:function(){r<0?(o(0),te(0)):r>Pe&&(o(Pe),te(Pe))},inputProps:{step:5,min:0,max:Pe,type:"number"}})]}),Object(a.jsx)("h3",{children:"Time Selection"}),Object(a.jsxs)("div",{className:"time-selection",children:[Object(a.jsx)("h4",{children:"".concat(d[0]-0," sec to guess, then ").concat(d[1]-d[0]," sec to enjoy the results")}),Object(a.jsx)(Me.a,{step:1,min:0,max:25,marks:Le,value:d,onChange:function(e,t,n){if(Array.isArray(t))if(t[1]-t[0]<5)if(0===n){var a=Math.min(t[0],95);a+5<=25&&(j([a,a+5]),ae([a,5]))}else{var i=Math.max(t[1],5);i-5>=5&&(j([i-5,i]),ae([i-5,i-(i-5)]))}else t[n]>=5&&(j(t),ae([t[0],t[1]-t[0]]))},valueLabelDisplay:"off",track:!1,disableSwap:!0,className:"timeline"})]}),Object(a.jsx)("h3",{children:"Allow Multiple Selection per Licence "}),Object(a.jsx)("div",{className:"multiple-licence-selection",children:Object(a.jsx)(Ae.a,{checked:f,onChange:function(e){g(e.target.checked),se(e.target.checked)},size:"medium"})})]})]})}n(378);var Ge=n.p+"static/media/easy.8f94ee7f.jpg",Ve=n.p+"static/media/medium.5270f002.jpg",_e=n.p+"static/media/hard.49089fed.jpg",ze=Object(T.a)(w.a)((function(e){return{color:e.theme.palette.getContrastText("#000000"),backgroundColor:"transparent",fontSize:"18px",fontWeight:"500","&:hover":{backgroundColor:"#FF6D00"}}}));function Je(){var e=ee(),t=Object(i.useState)(e),n=Object(m.a)(t,2),s=n[0],c=n[1],r=function(e,t){var n=JSON.parse(JSON.stringify(s));n[e]=t,c(n),$(n)};return Object(a.jsxs)("div",{className:"theme-container",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"Difficulty Selection"})}),Object(a.jsx)(ze,{variant:"text",className:"difficulties-all-toggle",onClick:function(){var e=Object.keys(s).filter((function(e){return!s[e]})).length>0,t={easy:e,medium:e,hard:e};c(t),$(t)},children:"Toggle All"}),Object(a.jsxs)(Oe.a,{container:!0,spacing:3,className:"theme-grid-container row-centered",children:[Object(a.jsx)(Oe.a,{item:!0,xs:4,className:"item-centered",children:Object(a.jsx)(me,{id:"easy",title:"Easy",backgroundImg:Ge,width:200,height:200,active:s.easy,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:4,className:"item-centered",children:Object(a.jsx)(me,{id:"medium",title:"Medium",backgroundImg:Ve,width:200,height:200,active:s.medium,onClick:r})}),Object(a.jsx)(Oe.a,{item:!0,xs:4,className:"item-centered",children:Object(a.jsx)(me,{id:"hard",title:"Hard",backgroundImg:_e,width:200,height:200,active:s.hard,onClick:r})})]})]})}n(379);var He={games:"Video Games",songs:"Musics",movies:"Movies",series:"Series",tvShows:"TV Shows",animes:"Animes"},Re={easy:1,medium:2,hard:4};function Be(){var e=Z(),t=ce();return Object.keys(He).filter((function(t){return e[t]})).map((function(e){return He[e]})).join(", ")+" (".concat(t?"Multiple":"One"," selection per Licence)")}function Ke(){var e,t,n=ee();switch(e=n,t=Re,Object.keys(e).map((function(n,a){return!0===e[n]?t[n]:0})).reduce((function(e,t){return e+t}),0)){case 1:return"Easy mode, for beginners";case 2:return"Medium mode, for some good surprises !";case 3:return"Easy and Medium mode, for more content without difficulty !";case 4:return"Hard mode, for tryharders !";case 5:return"Easy and Hard mode, because why not ?";case 6:return"Medium and Hard mode, best combo for training !";case 7:return"All in one ! Harder Better Faster !";default:return $(je),"Easy and Medium mode, for more content without difficulty !"}}function We(){var e=ne();return"".concat(e," songs in this playlist")}function Ue(){var e=ie();return"".concat(e[0]," sec to guess then ").concat(e[1]," before next guess")}function Qe(){return Object(a.jsxs)("div",{className:"summary-container",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"Summary"})}),Object(a.jsxs)(Oe.a,{container:!0,rowSpacing:1,className:"row-centered",children:[Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-end",children:Object(a.jsx)("h2",{children:"Themes"})}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-start",children:Be()}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-end",children:Object(a.jsx)("h2",{children:"Size of Playlist"})}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-start",children:We()}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-end",children:Object(a.jsx)("h2",{children:"Difficulty"})}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-start",children:Ke()}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-end",children:Object(a.jsx)("h2",{children:"Timeline"})}),Object(a.jsx)(Oe.a,{item:!0,xs:6,className:"item-flex-start",children:Ue()})]})]})}var qe=["Select theme","Customize Playlist","Select Difficulty","Validate"],Ye=[Object(a.jsx)(Ce,{}),Object(a.jsx)(Ee,{}),Object(a.jsx)(Je,{}),Object(a.jsx)(Qe,{})];function Xe(){Object(o.f)();return Object(i.useEffect)((function(){de()}),[]),Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(d.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(C,{}),Object(a.jsx)(be,{stepLabels:qe,stepComponents:Ye}),Object(a.jsx)(b,{})]})]})}var Ze=n(20),$e=n(22),et=n(39),tt=n(31),nt=n(32),at=n(236),it=n.n(at);var st={HandleVolumeDown:function(e){var t=e.getVolume();e.setVolume(t-10)},HandleVolumeUp:function(e){var t=e.getVolume();e.setVolume(t+10)},HandlePause:function(e){var t=e.getPlayerState();1===t?e.pauseVideo():2===t&&e.playVideo()}},ct=n(237),rt=(n(391),-1),ot=1,lt=2,ut=3,dt=4,jt=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(e){var i;Object(Ze.a)(this,n),(i=t.call(this,e))._onReady=function(e){e.target.playVideo(),i.setState({playerObj:e.target}),console.log("ready to play video")},i._onPlay=function(e){console.log("video started"),i.setState({loaded:!0,playlistIndex:i.state.playlistIndex+1})},i._onEnd=function(e){e.target.stopVideo(),console.log("stop video")},i._onError=function(e){alert("[".concat(i.state.currMusic.name,"]: Failed to load video with id: ").concat(i.state.currMusic.url)),i.setState({error:!0})},i._onStateChange=function(e){console.log("state changed: "+e.data),e.data},i.updatePlayer=function(e){var t=10;return i.setState({loaded:!1,error:!1}),new Promise((function(n,s){if(0!==i.playlist.length){var c=!0===e?i.playlist.shift():i.playlist[0],r={height:window.screen.height-5,width:window.screen.width,playerVars:{autoplay:1,start:c.start,end:c.start+i.guessTime+i.answerTime,fs:0,origin:window.location}};console.log("init Player"),i.setState({currMusic:c,player:Object(a.jsx)(ct.a,{videoId:c.url,opts:r,onReady:i._onReady,onPlay:i._onPlay,onEnd:i._onEnd,onError:i._onError,onStateChange:i._onStateChange})});var o=setInterval((function(){t--,!0===i.state.loaded?(clearInterval(o),n()):(t<=0||!0===i.state.error)&&(console.log("Failed to load music"),clearInterval(o),s())}),1e3)}else s()}))},i.doneAction=function(e,t){clearInterval(e),i.setState({status:rt,display:!1,counter:i.guessTime}),i.nextGuess(t)},i.checkStatus=function(e){switch(i.state.status){case lt:return!0;case ut:return i.doneAction(e,!1),!0;case dt:return void i.doneAction(e,!0)}};var s=window.localStorage.getItem("session_id");i.playlist=[];var c=ie();return i.guessTime=c[0],i.answerTime=c[1],i.state={display:!1,status:rt,counter:i.guessTime,player:void 0,playerObj:null,playlistIndex:0,currMusic:null,loaded:!1,error:!1,stop:!1},i.nextGuess=i.nextGuess.bind(Object(et.a)(i)),i.updatePlayer=i.updatePlayer.bind(Object(et.a)(i)),i._onError=i._onError.bind(Object(et.a)(i)),i._onPlay=i._onPlay.bind(Object(et.a)(i)),i._onReady=i._onReady.bind(Object(et.a)(i)),i.startGuessTime=i.startGuessTime.bind(Object(et.a)(i)),i.startAnswerTime=i.startAnswerTime.bind(Object(et.a)(i)),i.handleKeyDown=i.handleKeyDown.bind(Object(et.a)(i)),s||i.props.navigate("/"),i}return Object($e.a)(n,[{key:"nextGuess",value:function(e){var t=this;le()&&this.updatePlayer(e).then((function(){t.setState({status:ot,counter:t.guessTime}),t.startGuessTime()})).catch((function(){console.log("erreur du chargement de la music"),0===t.playlist.length?t.props.navigate("/"):t.nextGuess(e)}))}},{key:"startAnswerTime",value:function(){var e=this,t=setInterval((function(){if(!e.checkStatus(t)){var n=e.state.counter;0===n?e.doneAction(t,!0):e.setState({counter:n-1})}}),1e3)}},{key:"startGuessTime",value:function(){var e=this,t=setInterval((function(){if(!e.checkStatus(t)){var n=e.state.counter;1===n?(clearInterval(t),e.setState({display:!0,counter:e.answerTime}),e.startAnswerTime()):e.setState({counter:n-1})}}),1e3)}},{key:"handleKeyDown",value:function(e,t){if(null!==this.state.player)switch(console.log("receiving key: "+e),e){case"up":st.HandleVolumeUp(this.state.playerObj);break;case"down":st.HandleVolumeDown(this.state.playerObj);break;case"left":this.setState({status:ut});break;case"right":this.setState({status:dt});break;case"space":this.setState({status:this.state.status===lt?ot:lt}),st.HandlePause(this.state.playerObj);break;case"esc":this.props.navigate("/")}}},{key:"componentWillMount",value:function(){var e=this,t=ne(),n=oe(),a=ce(),i=re();this.props.assetManager.generateSelection(i,t,n,a).then((function(t){e.playlist=t,e.nextGuess(!0)}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(d.a,{bodyAttributes:{style:"background-color : #242629"}}),!this.state.display&&Object(a.jsx)("div",{className:"counter",children:this.state.counter}),Object(a.jsxs)("div",{style:{display:this.state.display?"":"none",position:"relative"},children:[Object(a.jsx)("div",{style:{position:"absolute"},children:this.state.player}),null!=this.state.currMusic&&Object(a.jsx)("div",{className:"asset-label",children:this.state.currMusic.name})]}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(it.a,{handleKeys:["up","down","left","right","space","esc"],onKeyEvent:this.handleKeyDown})})]})}}]),n}(s.a.Component),ht={display:"flex",flexDirection:"column",alignItems:"center"},bt=function(e){return{backgroundColor:e,marginTop:"8%",width:"40%",height:"50px"}};function mt(){var e=Object(o.f)();return Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(d.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsxs)("div",{style:ht,children:[Object(a.jsx)(ge,{message:"Update: Complete rework on blindtest configuration ! You can now choose multiple themes of you choice !"}),Object(a.jsx)(w.a,{variant:"contained",style:bt("#0FDC06"),onClick:function(){e("/generate")},children:"Generate Blindtest"}),Object(a.jsx)(w.a,{variant:"contained",style:bt("#4c54dd"),onClick:function(){e("/assets")},children:"See Assets Library"}),Object(a.jsx)(w.a,{variant:"contained",style:bt("#b53ad6"),onClick:function(){e("/contributors")},children:"See contributors"})]}),Object(a.jsx)(b,{})]})}var ft={display:"flex",flexDirection:"column",alignItems:"center",color:"white"};function gt(){var e,t=Object(o.f)();return Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(d.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(w.a,{variant:"contained",style:(e="#4c54dd",{backgroundColor:e,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:function(){t("/")},children:"Menu"}),Object(a.jsx)("div",{style:ft,children:Object(a.jsx)(j.a,{color:"inherit",children:"Work In Progress.."})}),Object(a.jsx)(b,{})]})}var Ot=n(482),xt=n(463),vt=n(464),pt=n(47),yt=n.n(pt),St=n(75),kt=function(){function e(){Object(Ze.a)(this,e)}return Object($e.a)(e,[{key:"fromJson",value:function(e){return this.easy=e.easy,this.medium=e.medium,this.hard=e.hard,this}},{key:"toJson",value:function(){return{easy:this.easy,medium:this.medium,hard:this.hard}}},{key:"flatMap",value:function(){return this.easy.concat(this.medium).concat(this.hard)}}]),e}(),wt=n(240),Ct=n.n(wt),Nt={assetManager:new(function(){function e(){var t=this;Object(Ze.a)(this,e),this.themeList={games:void 0,animes:void 0,movies:void 0,tvShows:void 0,series:void 0,songs:void 0},this.loaded=!1,this.random=new J.b(J.a.autoSeed()),this.loadAssets().then((function(e){t.loaded=!0}))}return Object($e.a)(e,[{key:"loadAssets",value:function(){var e=Object(St.a)(yt.a.mark((function e(){return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAssetFromGitlab("Game");case 2:return this.themeList.games=e.sent,e.next=5,this.getAssetFromGitlab("Anime");case 5:return this.themeList.animes=e.sent,e.next=8,this.getAssetFromGitlab("Film");case 8:return this.themeList.movies=e.sent,e.next=11,this.getAssetFromGitlab("Emission");case 11:return this.themeList.tvShows=e.sent,e.next=14,this.getAssetFromGitlab("Serie");case 14:return this.themeList.series=e.sent,e.next=17,this.getAssetFromGitlab("Musique");case 17:this.themeList.songs=e.sent;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssetFromGitlab",value:function(e){var t="https://gitlab.com/api/v4/projects/".concat("20542294","/repository/files/assets%20json%2F").concat(e,".json/raw?ref=master");return new Promise((function(n){Ct.a.get(t,{headers:{"PRIVATE-TOKEN":"glpat-QNSwxVMb-11Dzf_kbt81"}}).then((function(t){console.log("loaded "+e),n((new kt).fromJson(t.data))}))}))}},{key:"flatMapAssets",value:function(e){var t=e.map((function(e){return e.url.map((function(t){var n=e.title.concat(t.name?" - ".concat(t.name):"");return-1!==t.link.indexOf("=")?{name:n,url:t.link.split("=")[1],start:t.start}:{name:n,url:t.link.split("/")[1],start:t.start}}))}));return this.random.shuffle(t.flat(1))}},{key:"equalizeThemesSelection",value:function(e,t,n,a){var i=this,s=t/e.length;return s<=0&&(s=1),Promise.all(e.map((function(e){return i.generateSelection(e,s,n,a)})))}},{key:"generateSelection",value:function(e,t,n,a){var i=this;return new Promise((function(s,c){if(Array.isArray(e))i.equalizeThemesSelection(e,t,n,a).then((function(e){s(i.random.shuffle(e.flatMap((function(e){return e}))))}));else{var r=e;if(!(r in i.themeList))return[];var o=i.random.shuffle(n.flatMap((function(e){return i.themeList[r][e]})));if(!0===a){var l=i.flatMapAssets(o);s(l.slice(0,t))}var u=o.slice(0,t).map((function(e){var t=i.random.shuffle(e.url)[0];return{name:e.title.concat(t.name?" - ".concat(t.name):""),url:t.link.split("=")[1],start:t.start}}));s(u)}}))}}]),e}())},It=Object(i.createContext)(Nt),Mt=(It.Consumer,function(){return Object(i.useContext)(It)}),At=function(e){var t=e.children;return Object(a.jsx)(It.Provider,{value:Nt,children:t})},Tt={root:{width:"100%",maxWidth:300,backgroundColor:"#d01a1a",position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}};function Dt(e){var t,n=Object(o.f)(),s=Mt().assetManager,c=Object(i.useState)({"selection-games":{},"selection-animes":{},"selection-films":{}}),r=Object(m.a)(c,2),l=r[0],u=r[1],j=function(e,t){var n=function(){var n={},a=e.target.id.split("-")[2];a?n["selection-".concat(a).toLowerCase()]=null!==t?t:{}:(n["selection-games"]={},n["selection-animes"]={},n["selection-films"]={});return n}();u(n)},h=function(e,t){var n="selection-".concat(t).toLowerCase();return l[n]&&l[n].url?Object(a.jsx)("div",{style:Tt.root,children:Object(a.jsx)(O.a,{style:{backgroundColor:"#ffffff",color:"#000000"},subheader:Object(a.jsx)("li",{}),children:l[n].url.map((function(e){return Object(a.jsx)("li",{style:Tt.listSection,children:Object(a.jsx)("ul",{style:Tt.ul,children:Object(a.jsx)(x.a,{button:!0,onClick:function(t){return function(e,t){var n=window.open(t,"_blank","noopener,noreferrer");n&&(n.opener=null)}(0,e.link)},children:Object(a.jsx)(Ot.a,{primary:e.link})},"item-".concat(e.link))})},e.link)}))})}):Object(a.jsx)("div",{})},f=function(e,t){var n="selection-".concat(t);return Object(a.jsxs)("div",{style:{backgroundColor:"#ffffff",display:"inline-block",verticalAlign:"middle"},children:[Object(a.jsx)(xt.a,{color:"inherit",onChange:j,id:"combo-box-".concat(t),options:e,getOptionLabel:function(e){return e.title},style:{width:300},renderInput:function(e){return Object(a.jsx)(vt.a,Object(M.a)(Object(M.a)({},e),{},{value:l[n],label:t,variant:"outlined"}))}}),h(0,t)]})};return Object(a.jsxs)("div",{children:[Object(a.jsx)(d.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(w.a,{variant:"contained",style:(t="#4c54dd",{backgroundColor:t,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:function(){n("/")},children:"Menu"}),Object(a.jsxs)("div",{style:{width:"50%",height:"50%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[f(s.themeList.games.flatMap(),"Games"),f(s.themeList.animes.flatMap(),"Animes"),f(s.themeList.songs.flatMap(),"Musics"),f(s.themeList.movies.flatMap(),"Movies"),f(s.themeList.series.flatMap(),"Series"),f(s.themeList.tvShows.flatMap(),"TV shows")]}),Object(a.jsx)(b,{})]})}function Ft(){var e=Mt().assetManager,t=Object(o.f)();return Object(a.jsx)(jt,{assetManager:e,navigate:t})}function Lt(){return Object(a.jsx)(l.a,{basename:"/",children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/",element:Object(a.jsx)(mt,{})}),Object(a.jsx)(o.a,{path:"/generate",element:Object(a.jsx)(Xe,{})}),Object(a.jsx)(o.a,{path:"/contributors",element:Object(a.jsx)(gt,{})}),Object(a.jsx)(o.a,{path:"/assets",element:Object(a.jsx)(Dt,{})}),Object(a.jsx)(o.a,{path:"/blindtest",element:Object(a.jsx)(Ft,{})})]})})}var Pt=function(){return Object(a.jsx)(At,{children:Object(a.jsx)(Lt,{})})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,483)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Pt,{})}),document.getElementById("root")),Et()}},[[409,1,2]]]);
//# sourceMappingURL=main.3b99f074.chunk.js.map