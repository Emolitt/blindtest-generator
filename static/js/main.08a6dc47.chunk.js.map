{"version":3,"sources":["Configuration/ThemeSelectorForm.js","Configuration/Review.js","Configuration/BlindtestCustomizerForm.js","Copyright.js","Configuration/Checkout.js","Database/FirebaseConfig.js","Database/DtoAsset.js","Database/DtoSuggestion.js","Database/AssetsManager.js","Generator/SelectionGenerator.js","Session/KeyboardEvent.js","Session/BlindtestGenerator.js","Home/HomePage.js","Home/ContributorsPage.js","Home/AssetsPage.js","Home/SuggestPage.js","Home/AdminSuggestionPage.js","RoutingConfig.js","App.js","reportWebVitals.js","index.js"],"names":["ThemeSelectorForm","props","theme","window","localStorage","getItem","defaultTheme","state","opened","classes","makeStyles","button","display","marginTop","spacing","select","backgroundColor","borderColor","icon","fill","formControl","margin","minWidth","setOpen","bind","handleOpen","handleClose","handleChange","event","setItem","target","value","this","setState","Fragment","Typography","variant","gutterBottom","align","style","color","Box","FormControl","Select","labelId","id","open","onClose","onOpen","onChange","defaultValue","inputProps","MenuItem","React","Component","ThemeList","games","animes","films","musics","all","getTheme","key","allowSameLicence","getFormattedDifficulty","difficulty","JSON","parse","easy","medium","hard","stringify","getFormattedPlaylistSize","playlistSize","getFormattedGuessTime","guessTime","waitTime","Review","Grid","container","item","xs","GreenSwitch","withStyles","switchBase","checked","track","Switch","CustomSlider","root","height","borderRadius","thumb","width","border","boxShadow","active","Slider","BlindtestCustomizerForm","parseInt","defaultplaylistSize","defaultGuessTime","defaultWaitTime","seed","MersenneTwister19937","autoSeed","next","updatePlaylistSize","updateDifficulty","updateGuessTime","updateWaitTime","handleSwitchChange","updateSeed","newPlaylistSize","toString","difficulties","newSeed","actualGuessTime","newGuessTime","innerText","actualWaitTime","newWaitTime","component","FormGroup","FormLabel","TextField","type","min","textAlign","name","row","marginBottom","marginRight","FormControlLabel","control","Checkbox","onClick","label","getAriaValueText","valuetext","aria-labelledby","valueLabelDisplay","step","marks","max","Copyright","position","bottom","left","transform","Link","href","Date","getFullYear","QontoConnector","alternativeLabel","top","right","completed","line","borderTopWidth","StepConnector","useQontoStepIconStyles","alignItems","circle","zIndex","fontSize","QontoStepIcon","className","clsx","steps","Checkout","activeStep","anchorEl","openedHelp","setActiveStep","setAnchorEl","handleMenu","handleBack","handleNext","startBlindtest","navigateToMenu","Error","v4","history","push","anchor","Boolean","currentTarget","overflow","Helmet","bodyAttributes","CssBaseline","AppBar","flex","Toolbar","Button","noWrap","marginLeft","IconButton","edge","aria-label","aria-controls","aria-haspopup","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","List","ListItem","Stepper","connector","map","Step","StepLabel","StepIconComponent","getStepContent","length","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","firestore","DtoAsset","obj","uid","url","AssetsManager","gamesLoaded","animesLoaded","musicsLoaded","filmsLoaded","assetName","res","axios","get","headers","then","fromJson","data","collectionName","console","log","collection","doc","docs","forEach","element","ref","listCollections","subCollection","catch","reason","error","assets","asset","title","add","link","set","assetList","DtoSuggestion","suggestion","validate","concat","toJson","err","delete","getAssetFromGitlab","selectionGenerator","random","Random","flatMappedAssets","split","start","shuffle","flat","size","reuseAsset","partSize","Object","keys","GenerateSelectionFromJSON","reuseGame","EqualizeAllGenreSelection","FlatMapAssets","slice","winnerChoice","KeyboardEvents","HandleVolumeDown","player","volume","getVolume","setVolume","HandleVolumeUp","HandlePause","status","getPlayerState","pauseVideo","playVideo","Status","BlindtestGenerator","_onReady","playerObj","_onPlay","loaded","playlistIndex","_onEnd","stopVideo","_onError","alert","currMusic","_onStateChange","updatePlayer","shift","timeoutCounter","Promise","resolve","reject","playlist","music","opt","screen","playerVars","autoplay","end","answerTime","fs","origin","location","videoId","opts","onReady","onPlay","onEnd","onError","onStateChange","timer","setInterval","clearInterval","doneAction","nextGuess","counter","checkStatus","sessionId","setSeed","undefined","stop","startGuessTime","startAnswerTime","handleKeyDown","fontWeight","handleKeys","onKeyEvent","containerController","flexDirection","buttonStyle","customColor","HomePage","navigateToCheckout","navigateToAssets","navigateToContributors","ContributorsPage","maxWidth","maxHeight","listSection","ul","padding","AssetsPage","onListSearchUpdate","navigateToSuggest","newWindow","opener","stateObject","returnObj","toLowerCase","associatedKey","subheader","redirectToUrl","ListItemText","primary","associatedValue","Autocomplete","options","getOptionLabel","option","renderInput","params","renderAssetList","setAssetsOfCollection","require","renderAssetSearch","flatMap","SuggestPage","urlList","submitSuggestion","onAssetSearchChange","onAssetSubmitChange","onAddUrl","onRemoveUrl","onChangeUrl","index","splice","isLink","freeSolo","onInput","startIcon","suggestNewAsset","renderUrlList","AdminSuggestionPage","handleSuggestion","HandleSuggestion","getSuggestions","RoutingConfig","basename","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0m7JASqBA,E,kDAEjB,WAAYC,GAAQ,IAAD,sBACf,cAAMA,GAEN,IAAMC,EAAQC,OAAOC,aAAaC,QAAQ,SAH3B,OAKf,EAAKC,aAAeJ,GAAgB,QAEpC,EAAKK,MAAQ,CACTC,QAAQ,EACRN,MAAO,EAAKI,aACZG,QAAUC,aAAW,SAACR,GAAD,MAAY,CAC7BS,OAAQ,CACJC,QAAS,QACTC,UAAWX,EAAMY,QAAQ,IAE7BC,OAAQ,CACJC,gBAAiB,QACjB,WAAY,CACRC,YAAa,WAEjB,UAAW,CACPA,YAAa,YAGrBC,KAAM,CACFC,KAAM,WAEVC,YAAa,CACTC,OAAQnB,EAAMY,QAAQ,GACtBQ,SAAU,UAKtB,EAAKC,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKC,WAAa,EAAKA,WAAWD,KAAhB,gBAClB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBACnB,EAAKG,aAAe,EAAKA,aAAaH,KAAlB,gBArCL,E,yDAwCNI,GACTzB,OAAOC,aAAayB,QAAQ,QAASD,EAAME,OAAOC,OAClDC,KAAKC,SAAS,CACV/B,MAAO0B,EAAME,OAAOC,U,8BAIpBxB,GACJyB,KAAKC,SAAS,CACVzB,OAAQD,M,oCAKZyB,KAAKT,SAAQ,K,mCAIbS,KAAKT,SAAQ,K,+BAIb,OACI,eAAC,IAAMW,SAAP,WACI,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAACC,MAAM,SAASC,MAAO,CAAEC,MAAO,SAArE,0BAGA,cAACC,EAAA,EAAD,CAAKH,MAAM,SAAX,SACI,cAACI,EAAA,EAAD,CAAaH,MAAO,CAAE1B,UAAW,MAAOS,SAAU,KAAlD,SACI,eAACqB,EAAA,EAAD,CACIC,QAAQ,oCACRC,GAAG,8BACHC,KAAMd,KAAKzB,MAAMuC,KACjBC,QAASf,KAAKN,YACdsB,OAAQhB,KAAKP,WACbM,MAAOC,KAAKzB,MAAML,MAClB+C,SAAUjB,KAAKL,aACfuB,aAAclB,KAAK1B,aACnBiC,MAAO,CAAEC,MAAO,WAChBW,WAAY,CACRZ,MAAO,CACHC,MAAO,SAEX/B,QAAS,CACLS,KAAMc,KAAKzB,MAAME,QAAQS,OAfrC,UAmBI,cAACkC,EAAA,EAAD,CAAUrB,MAAM,GAAhB,SAAmB,wCACnB,cAACqB,EAAA,EAAD,CAAUrB,MAAM,QAAhB,yBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,SAAhB,mBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,QAAhB,mBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,SAAhB,oBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,MAAhB,qC,GA/FmBsB,IAAMC,W,SCH/CC,EAAY,CACdC,MAAO,cACPC,OAAQ,SACRC,MAAO,SACPC,OAAQ,SACRC,IAAK,aAGT,SAASC,IACL,IAAMC,EAAM3D,OAAOC,aAAaC,QAAQ,SAClC0D,EAA0E,SAAtD5D,OAAOC,aAAaC,QAAQ,sBAGtD,MADY,UAAMkD,EAAUO,GAAhB,aAAyBC,EAAmB,iCAAmC,4BAA/E,KAIhB,SAASC,IACL,IAAMC,EAAaC,KAAKC,MAAMhE,OAAOC,aAAaC,QAAQ,eAE1D,OAAI4D,EAAWG,MAASH,EAAWI,QAAWJ,EAAWK,KAE7CL,EAAWG,OAAQH,EAAWI,QAAWJ,EAAWK,KAEpDL,EAAWG,MAASH,EAAWI,SAAUJ,EAAWK,KAErDL,EAAWG,MAAQH,EAAWI,SAAWJ,EAAWK,KACpD,8DACAL,EAAWG,OAASH,EAAWI,QAAUJ,EAAWK,KACpD,yCACCL,EAAWG,MAAQH,EAAWI,QAAUJ,EAAWK,KACpD,kDACAL,EAAWG,MAAQH,EAAWI,QAAUJ,EAAWK,KACnD,uCAEPnE,OAAOC,aAAayB,QAAQ,aAAcqC,KAAKK,UAAU,CACrDH,MAAM,EACNC,QAAQ,EACRC,MAAM,KAEH,+DAfA,8BAFA,yCAFA,2BAuBf,SAASE,IACL,IAAMC,EAAetE,OAAOC,aAAaC,QAAQ,iBAEjD,MAAM,GAAN,OAAUoE,EAAV,8BAGJ,SAASC,IACL,IAAMC,EAAYxE,OAAOC,aAAaC,QAAQ,cACxCuE,EAAWzE,OAAOC,aAAaC,QAAQ,aAE7C,MAAM,GAAN,OAAUsE,EAAV,8BAAyCC,EAAzC,sBAGW,SAASC,IAEpB,OACI,eAAC,IAAM3C,SAAP,WACI,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAACC,MAAM,SAASC,MAAO,CAAEC,MAAO,SAArE,mCAGA,cAACL,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAACC,MAAM,SAA5C,SACI,eAACwC,EAAA,EAAD,CAAMC,WAAS,EAACjE,QAAS,EAAGyB,MAAO,CAAE1B,UAAW,MAAhD,UACI,eAAC,IAAMqB,SAAP,WACI,cAAC4C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,qBAEJ,cAACsC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,SAAqDqB,UALzC,SAQpB,eAAC,IAAM3B,SAAP,WACI,cAAC4C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,0BAEJ,cAACsC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,SAAqDwB,UALzC,cAQpB,eAAC,IAAM9B,SAAP,WACI,cAAC4C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,gCAEJ,cAACsC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,SAAqDgC,UALzC,oBAQpB,eAAC,IAAMtC,SAAP,WACI,cAAC4C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,iCAEJ,cAACsC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACI,cAAC9C,EAAA,EAAD,CAAYE,cAAY,EAACE,MAAO,CAAEC,MAAO,SAAzC,SAAqDkC,UALzC,sB,sHC9ElCQ,EAAcC,IAAW,CAC3BC,WAAY,CACR5C,MAAO,UACP,YAAa,CACTA,MAAO,WAEX,qBAAsB,CAClBxB,gBAAiB,YAGzBqE,QAAS,GACTC,MAAO,IAXSH,CAYjBI,KAEGC,EAAeL,IAAW,CAC5BM,KAAM,CACFjD,MAAO,WAEX8C,MAAO,CACHI,OAAQ,EACRC,aAAc,GAElBC,MAAO,CACHF,OAAQ,GACRG,MAAO,GACP7E,gBAAiB,UACjB8E,OAAQ,yBACR,6BAA8B,CAC1BC,UAAW,yBAEfvD,MAAO,WAEXwD,OAAQ,IAlBSb,CAmBlBc,KAEkBC,E,kDAEjB,WAAYjG,GAAQ,IAAD,sBACf,cAAMA,GACN,IAAMwE,EAAe0B,SAAShG,OAAOC,aAAaC,QAAQ,kBACpD4D,EAAaC,KAAKC,MAAMhE,OAAOC,aAAaC,QAAQ,eACpDsE,EAAYwB,SAAShG,OAAOC,aAAaC,QAAQ,eACjDuE,EAAWuB,SAAShG,OAAOC,aAAaC,QAAQ,cAChD0D,EAA0E,SAAtD5D,OAAOC,aAAaC,QAAQ,sBANvC,OAQf,EAAK+F,oBAAsB3B,GAA8B,IACzD,EAAK4B,iBAAmB1B,GAAwB,GAChD,EAAK2B,gBAAkB1B,GAAsB,EAE7C,EAAKrE,MAAQ,CACTC,QAAQ,EACRiE,aAAc,EAAK2B,oBACnBnC,WAAYA,EACZU,UAAW,EAAK0B,iBAChBzB,SAAU,EAAK0B,gBACfvC,iBAAkBA,EAClBwC,KAAMC,IAAqBC,WAAWC,OACtCjG,QAAUC,aAAW,SAACR,GAAD,MAAY,CAC7BkB,YAAa,CACTC,OAAQnB,EAAMY,QAAQ,GACtBQ,SAAU,UAKtB,EAAKqF,mBAAqB,EAAKA,mBAAmBnF,KAAxB,gBAC1B,EAAKoF,iBAAmB,EAAKA,iBAAiBpF,KAAtB,gBACxB,EAAKqF,gBAAkB,EAAKA,gBAAgBrF,KAArB,gBACvB,EAAKsF,eAAiB,EAAKA,eAAetF,KAApB,gBACtB,EAAKuF,mBAAqB,EAAKA,mBAAmBvF,KAAxB,gBAC1B,EAAKwF,WAAa,EAAKA,WAAWxF,KAAhB,gBAjCH,E,sDAoCTO,GACN,MAAM,GAAN,OAAUA,K,yCAGKH,GACf,IAAMqF,EAAkBd,SAASvE,EAAME,OAAOC,OAEzCkF,GACD9G,OAAOC,aAAayB,QAAQ,gBAAiB,KAEjDG,KAAKC,SAAS,CACVwC,aAAcwC,IAElB9G,OAAOC,aAAayB,QAAQ,gBAAkBoF,EAAwBA,EAAgBC,WAAtB,O,uCAGnDjD,GACb,IAAMkD,EAAenF,KAAKzB,MAAM0D,WAEhCkD,EAAalD,IAAekD,EAAalD,GAEzC9D,OAAOC,aAAayB,QAAQ,aAAcqC,KAAKK,UAAU4C,IAEzDnF,KAAKC,SAAS,CACVgC,WAAYkD,M,iCAITvF,GACP,IAAMwF,EAAUjB,SAASvE,EAAME,OAAOC,OAEjCqF,GACDjH,OAAOC,aAAayB,QAAQ,OAAQ,KAExCG,KAAKC,SAAS,CACVsE,KAAMa,IAEVjH,OAAOC,aAAayB,QAAQ,OAASuF,GAAU,O,sCAGnCxF,GACZ,IAAMyF,EAAkBrF,KAAKzB,MAAMoE,UAC7B2C,EAAenB,SAASvE,EAAME,OAAOyF,WAEvCD,GAAgBD,IAAoBC,IACpCtF,KAAKC,SAAS,CACV0C,UAAW2C,IAEfnH,OAAOC,aAAayB,QAAQ,aAAcyF,EAAaJ,e,qCAIhDtF,GACX,IAAM4F,EAAiBxF,KAAKzB,MAAMqE,SAC5B6C,EAActB,SAASvE,EAAME,OAAOyF,WAGtCE,GAAeD,IAAmBC,IAClCzF,KAAKC,SAAS,CACV2C,SAAU6C,IAEdtH,OAAOC,aAAayB,QAAQ,YAAa4F,EAAYP,e,yCAI1CtF,GACfzB,OAAOC,aAAayB,QAAQ,qBAAsBD,EAAME,OAAOuD,QAAQ6B,YACvElF,KAAKC,SAAS,CACV8B,iBAAkBnC,EAAME,OAAOuD,Y,+BAI7B,IAAD,OACL,OACI,eAAC,IAAMnD,SAAP,WACI,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKE,MAAM,SAASC,MAAO,CAAEC,MAAO,SAAxD,iCAGA,cAACC,EAAA,EAAD,CAAKH,MAAM,SAAX,SACI,eAACI,EAAA,EAAD,CAAagF,UAAU,WAAWnF,MAAO,CAAE1B,UAAW,MAAtD,UACI,eAAC8G,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWF,UAAU,SAASnF,MAAO,CAAEC,MAAO,WAA9C,8BAGA,cAACqF,EAAA,EAAD,CACIC,KAAK,SACL3E,WAAY,CAAC4E,IAAK,EAAGxF,MAAO,CAAEyF,UAAW,SAAUxF,MAAO,UAC1DT,MAAOC,KAAKzB,MAAMkE,aAClBxB,SAAUjB,KAAK2E,mBACfsB,KAAK,eACLpF,GAAG,oCAIX,eAAC8E,EAAA,EAAD,CAAWO,KAAG,EAAd,UACI,cAACN,EAAA,EAAD,CAAWF,UAAU,SAASnF,MAAO,CAAE4F,aAAc,OAAQC,YAAa,OAAQvH,UAAW,OAAQ2B,MAAO,WAA5G,yBAGA,cAAC6F,EAAA,EAAD,CAAkB9F,MAAO,CAAEC,MAAO,SAC9B8F,QAAS,cAACC,EAAA,EAAD,CAAUhG,MAAO,CAAEC,MAAO,WAAa6C,QAASrD,KAAKzB,MAAM0D,WAAWG,KAAMoE,QAAS,kBAAM,EAAK5B,iBAAiB,SAASqB,KAAK,SACxIQ,MAAM,SAEV,cAACJ,EAAA,EAAD,CAAkB9F,MAAO,CAAEC,MAAO,SAC9B8F,QAAS,cAACC,EAAA,EAAD,CAAUhG,MAAO,CAAEC,MAAO,WAAa6C,QAASrD,KAAKzB,MAAM0D,WAAWI,OAAQmE,QAAS,kBAAM,EAAK5B,iBAAiB,WAAWqB,KAAK,WAC5IQ,MAAM,WAEV,cAACJ,EAAA,EAAD,CAAkB9F,MAAO,CAAEC,MAAO,SAC9B8F,QAAS,cAACC,EAAA,EAAD,CAAUhG,MAAO,CAAEC,MAAO,WAAa6C,QAASrD,KAAKzB,MAAM0D,WAAWK,KAAMkE,QAAS,kBAAK,EAAK5B,iBAAiB,SAASqB,KAAK,SACvIQ,MAAM,YAGd,eAACd,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWF,UAAU,SAASnF,MAAO,CAAE4F,aAAc,OAAQ3F,MAAO,WAApE,wBAGA,cAACgD,EAAD,CACItC,aAAclB,KAAKqE,iBACnBpD,SAAUjB,KAAK6E,gBACf6B,iBAAkB1G,KAAK2G,UACvBC,kBAAgB,kBAChBC,kBAAkB,KAClBC,KAAM,EACNC,OAAK,EACLhB,IAAK,EACLiB,IAAK,QAGb,eAACrB,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWF,UAAU,SAASnF,MAAO,CAAE4F,aAAc,OAAQtH,UAAW,OAAQ2B,MAAO,WAAvF,oCAGA,cAACgD,EAAD,CACItC,aAAclB,KAAKsE,gBACnBrD,SAAUjB,KAAK8E,eACf4B,iBAAkB1G,KAAK2G,UACvBC,kBAAgB,kBAChBC,kBAAkB,KAClBC,KAAM,EACNC,OAAK,EACLhB,IAAK,EACLiB,IAAK,QAGb,eAACrB,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWF,UAAU,SAASnF,MAAO,CAAE1B,UAAW,OAAQ2B,MAAO,WAAjE,kDACA,cAACC,EAAA,EAAD,CAAKH,MAAM,SAAX,SACI,cAAC4C,EAAD,CAAaG,QAASrD,KAAKzB,MAAMwD,iBAAkBd,SAAUjB,KAAK+E,mBAAoBkB,KAAK,4BAGnG,eAACN,EAAA,EAAD,WACI,cAACxF,EAAA,EAAD,CAAYG,MAAM,SAASC,MAAO,CAAE1B,UAAW,OAAQ2B,MAAO,WAA9D,kBAGA,cAACqF,EAAA,EAAD,CACIC,KAAK,SACL3E,WAAY,CAACZ,MAAO,CAAEyF,UAAW,SAAUxF,MAAO,UAClDT,MAAOC,KAAKzB,MAAMgG,KAClBtD,SAAUjB,KAAKgF,WACfiB,KAAK,OACLpF,GAAG,wC,GArMkBQ,IAAMC,W,kKCjD5C,SAAS2F,KACpB,OACI,qBAAK1G,MAAO,CACR2G,SAAU,QACVC,OAAQ,OACRC,KAAM,MACNC,UAAW,yBAJf,SAMI,eAAClH,EAAA,EAAD,CAAYC,QAAQ,QAAQI,MAAM,gBAAgBF,MAAM,SAASC,MAAO,CACpEvB,gBAAiB,UACjBwB,MAAO,SAFX,UAIK,yBACD,cAAC8G,GAAA,EAAD,CAAM9G,MAAM,UAAU+G,KAAK,iDAAiDzH,OAAO,SAAnF,qBAEQ,KACP,IAAI0H,MAAOC,cACX,SCWjB,IAAMC,GAAiBvE,YAAW,CAC9BwE,iBAAkB,CACdC,IAAK,GACLR,KAAM,oBACNS,MAAO,oBAEX7D,OAAQ,CACJ,UAAW,CACP/E,YAAa,YAGrB6I,UAAW,CACP,UAAW,CACP7I,YAAa,YAGrB8I,KAAM,CACF9I,YAAa,UACb+I,eAAgB,EAChBrE,aAAc,IAnBCR,CAqBpB8E,KAEGC,GAAyBxJ,YAAW,CACtC+E,KAAM,CACFjD,MAAO,UACP5B,QAAS,OACT8E,OAAQ,GACRyE,WAAY,UAEhBnE,OAAQ,CACJxD,MAAO,WAEX4H,OAAQ,CACJvE,MAAO,EACPH,OAAQ,EACRC,aAAc,MACd3E,gBAAiB,gBAErB8I,UAAW,CACPtH,MAAO,UACP6H,OAAQ,EACRC,SAAU,MAKlB,SAASC,GAActK,GACnB,IAAMQ,EAAUyJ,KACRlE,EAAsB/F,EAAtB+F,OAAQ8D,EAAc7J,EAAd6J,UAEhB,OACI,qBACIU,UAAWC,YAAKhK,EAAQgF,KAAT,eACVhF,EAAQuF,OAASA,IAF1B,SAKK8D,EAAY,cAAC,IAAD,CAAOU,UAAW/J,EAAQqJ,YAAgB,qBAAKU,UAAW/J,EAAQ2J,WAgB3F,IAAMM,GAAQ,CAAC,eAAgB,oBAAqB,YAE/BC,G,kDACjB,WAAY1K,GAAQ,IAAD,8BACf,cAAMA,IAEDM,MAAQ,CACTqK,WAAY,EACZC,SAAU,KACVC,YAAY,GAGhB,EAAKC,cAAgB,EAAKA,cAAcvJ,KAAnB,gBACrB,EAAKwJ,YAAc,EAAKA,YAAYxJ,KAAjB,gBACnB,EAAKyJ,WAAa,EAAKA,WAAWzJ,KAAhB,gBAClB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBACnB,EAAK0J,WAAa,EAAKA,WAAW1J,KAAhB,gBAClB,EAAK2J,WAAa,EAAKA,WAAW3J,KAAhB,gBAClB,EAAK4J,eAAiB,EAAKA,eAAe5J,KAApB,gBACtB,EAAK6J,eAAiB,EAAKA,eAAe7J,KAApB,gBAEtBrB,OAAOC,aAAayB,QAAQ,aAAc,IAlB3B,E,6DAwBf,OADaG,KAAKzB,MAAMqK,YAEpB,KAAK,EACD,OAAO,cAAC,EAAD,IACX,KAAK,EACD,OAAO,cAAC,EAAD,IACX,KAAK,EACD,OAAO,cAAC/F,EAAD,IACX,QACI,MAAM,IAAIyG,MAAM,mB,uCAKxBnL,OAAOC,aAAayB,QAAQ,aAAc0J,eAC1CvJ,KAAK/B,MAAMuL,QAAQC,KAAK,gB,oCAGd3C,GACV9G,KAAKC,SAAS,CACV2I,WAAY9B,M,kCAIR4C,GACR1J,KAAKC,SAAS,CACV4I,SAAUa,EACVZ,WAAYa,QAAQD,O,mCAKxB1J,KAAK+I,cAAc/I,KAAKzB,MAAMqK,WAAa,K,mCAI3C5I,KAAK+I,cAAc/I,KAAKzB,MAAMqK,WAAa,K,iCAGpChJ,GACPI,KAAKgJ,YAAYpJ,EAAMgK,iB,oCAIvB5J,KAAKgJ,YAAY,Q,uCAIjBhJ,KAAK/B,MAAMuL,QAAQC,KAAK,O,+BAIxB,OACI,sBAAKlJ,MAAO,CAAEsJ,SAAU,UAAxB,UACI,cAACC,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,eAAC,IAAML,SAAP,WACI,cAAC8J,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAQ/C,SAAS,WAAW3G,MAAO,CAACvB,gBAAkB,UAAWkL,KAAM,GAAvE,SACI,eAACC,EAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAQ5D,QAASxG,KAAKqJ,eAAgB9I,MAAO,CAACC,MAAO,WAArD,SACI,cAACL,EAAA,EAAD,CAAYC,QAAQ,KAAKI,MAAM,UAAU6J,QAAM,EAA/C,mCAIJ,sBAAK9J,MAAO,CAAE+J,WAAY,QAA1B,UACI,cAACC,GAAA,EAAD,CACIC,KAAK,MACLC,aAAW,0BACXC,gBAAc,cACdC,gBAAc,OACdnE,QAASxG,KAAKiJ,WACdzI,MAAM,UANV,SAQI,cAAC,IAAD,MAEJ,eAACoK,GAAA,EAAD,CACI/J,GAAG,cACHgI,SAAU7I,KAAKzB,MAAMsK,SACrBgC,aAAc,CACVC,SAAU,MACVC,WAAY,SAEhBC,aAAW,EACXC,gBAAiB,CACbH,SAAU,MACVC,WAAY,SAEhBjK,KAAMd,KAAKzB,MAAMuK,WACjB/H,QAASf,KAAKN,YAblB,UAeI,cAACS,EAAA,EAAD,CAAYC,QAAQ,KAAKE,MAAM,SAA/B,wBAGA,8BACI,eAAC4K,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,WACI,8CADJ,2BAGA,eAACA,GAAA,EAAD,WACI,gDADJ,2BAGA,eAACA,GAAA,EAAD,WACI,gDADJ,+BAGA,eAACA,GAAA,EAAD,WACI,iDADJ,oBAGA,eAACA,GAAA,EAAD,WACI,2CADJ,yBAGA,eAACA,GAAA,EAAD,WACI,4CADJ,uBAGA,eAACA,GAAA,EAAD,WACI,yCADJ,yCASxB,eAAC1K,EAAA,EAAD,WACI,cAACN,EAAA,EAAD,CAAYuF,UAAU,KAAKtF,QAAQ,KAAKE,MAAM,SAA9C,uBAGA,cAAC8K,GAAA,EAAD,CAAS7K,MAAO,CAACvB,gBAAkB,WAAY2I,kBAAgB,EAACiB,WAAY5I,KAAKzB,MAAMqK,WAAYyC,UAAW,cAAC3D,GAAD,IAA9G,SACKgB,GAAM4C,KAAI,SAAC7E,GAAD,OACP,cAAC8E,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAWC,kBAAmBlD,GAA9B,SAA8C9B,KADvCA,WAMvB,cAAChG,EAAA,EAAD,UACI,cAAC,IAAMP,SAAP,UACKF,KAAK0L,qBAGd,sBAAKnL,MAAO,CACR2G,SAAU,QACVC,OAAQ,OACRU,MAAO,QAHX,UAK+B,IAA1B7H,KAAKzB,MAAMqK,YACR,cAACwB,GAAA,EAAD,CAAQ5D,QAASxG,KAAKkJ,WAAY3I,MAAO,CAACC,MAAQ,WAAlD,kBAIJ,cAAC4J,GAAA,EAAD,CACIhK,QAAQ,YACRG,MAAO,CAACvB,gBAAkB,WAC1BwH,QAASxG,KAAKzB,MAAMqK,aAAeF,GAAMiD,OAAS,EAAI3L,KAAKoJ,eAAiBpJ,KAAKmJ,WAHrF,SAKKnJ,KAAKzB,MAAMqK,aAAeF,GAAMiD,OAAS,EAAI,QAAU,YAGhE,cAAC1E,GAAD,c,GArLkB5F,IAAMC,W,SC1E5CsK,KAASC,cA5Bc,CACnBC,OAAQ,0CACRC,WAAY,yCACZC,UAAW,yBACXC,cAAe,qCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAsBnBR,KAASS,YAET,IAAMC,GAAYV,KAASU,YCxBdC,GAAb,WAKI,aAAe,oBALnB,qDAQaC,GACLxM,KAAKoC,KAAOoK,EAAIpK,KAChBpC,KAAKqC,OAASmK,EAAInK,OAClBrC,KAAKsC,KAAOkK,EAAIlK,OAXxB,+BAeQ,MAAO,CACHF,KAAMpC,KAAKoC,KACXC,OAAQrC,KAAKqC,OACbC,KAAMtC,KAAKsC,QAlBvB,gCAuBQ,MAAO,OAvBf,KCXqBiK,GACjB,WAAYC,EAAKC,GAAM,oBACnBzM,KAAKyM,IAAMA,EACXzM,KAAKiG,KAAOuG,EAAIvG,KAChBjG,KAAK9B,MAAQsO,EAAItO,MACjB8B,KAAK0M,IAAMF,EAAIE,K,qBCIFC,G,8GAgBd,IAAMC,IAAgB5M,KAAKuB,UAAUC,MAAMY,QAAUpC,KAAKuB,UAAUC,MAAMa,UAAYrC,KAAKuB,UAAUC,MAAMc,KACrGuK,IAAiB7M,KAAKuB,UAAUE,OAAOW,QAAUpC,KAAKuB,UAAUE,OAAOY,UAAYrC,KAAKuB,UAAUE,OAAOa,KACzGwK,IAAiB9M,KAAKuB,UAAUI,OAAOS,QAAUpC,KAAKuB,UAAUI,OAAOU,UAAYrC,KAAKuB,UAAUI,OAAOW,KACzGyK,IAAgB/M,KAAKuB,UAAUG,MAAMU,QAAUpC,KAAKuB,UAAUG,MAAMW,UAAYrC,KAAKuB,UAAUG,MAAMY,KAE1G,OAAOsK,GAAeC,GAAgBC,GAAgBC,I,yCAIhCC,GAEtB,IAAMN,EAAG,6CA9BC,WA8BD,6CAAuFM,EAAvF,wBACLC,EAAM,IAAIV,GASd,OAPAW,KAAMC,IAAIT,EAAK,CACXU,QAAS,CACL,gBAlCI,0BAoCTC,MAAK,SAAAtN,GACJkN,EAAIK,SAASvN,EAAMwN,SAEhBN,I,4CAMkBO,GAYzB,OATAC,QAAQC,IAAIF,GACZlB,GAAUqB,WAAWH,GAAgBL,MAAME,MAAK,SAAAO,GAC5CH,QAAQC,IAAIE,GACZA,EAAIC,KAAKC,SAAQ,SAAAC,GACbA,EAAQC,IAAIC,kBAAkBZ,MAAK,SAAAa,GAC/BT,QAAQC,IAAIQ,YAGrBC,OAAM,SAAAC,GAAM,OAAIX,QAAQY,MAAMD,MAC1B,IAAI7B,GAXG,M,4CAiBW+B,EAAQd,GACjCc,EAAOlM,KAAK0L,SAAQ,SAAAS,GAChBA,EAAM7B,IAAIoB,SAAQ,SAAApB,GACdJ,GAAUqB,WAAWH,GAAgBI,IAAI,QAAQD,WAAWY,EAAMC,OAAOC,IAAI/B,SAGrF4B,EAAOjM,OAAOyL,SAAQ,SAAAS,GAClBA,EAAM7B,IAAIoB,SAAQ,SAAApB,GACdJ,GAAUqB,WAAWH,GAAgBI,IAAI,UAAUD,WAAWY,EAAMC,OAAOC,IAAI/B,SAGvF4B,EAAOhM,KAAKwL,SAAQ,SAAAS,GAChBA,EAAM7B,IAAIoB,SAAQ,SAAApB,GACdJ,GAAUqB,WAAWH,GAAgBI,IAAI,QAAQD,WAAWY,EAAMC,OAAOC,IAAI/B,W,kCAStEiB,EAAYX,EAAW0B,M,sCAUnBH,GACnB,IAAM9B,EAAMlD,cACZ+C,GAAUqB,WAAW,eAAeC,IAAInB,GAAKkC,IAAIJ,K,uCAIjD,IAAMK,EAAY,GAOlB,OALAtC,GAAUqB,WAAW,eAAeR,MAAME,MAAK,SAAAO,GAC3CA,EAAIC,KAAKC,SAAQ,SAAAC,GACba,EAAUnF,KAAK,IAAIoF,GAAcd,EAAQR,OAAQQ,EAAQlN,WAGzD+N,I,uCAMYE,EAAYC,GAE5BA,GACAzC,GAAUqB,WAAWmB,EAAW5Q,OAAO0P,IAAIkB,EAAW7I,MAAMkH,MAAME,MAAK,SAAAO,GACnE,IAAML,EAAO,IAAIhB,GAASqB,EAAIL,QAC9BA,EAAKb,IAAMa,EAAKb,IAAIsC,OAAOF,EAAWpC,KACtCJ,GAAUqB,WAAWmB,EAAW5Q,OAAO0P,IAAIkB,EAAW7I,MAAM0I,IAAIpB,EAAK0B,aACtEd,OAAM,SAAAe,GACL5C,GAAUqB,WAAWmB,EAAW5Q,OAAO0P,IAAIkB,EAAW7I,MAAM0I,IAAI,IAAIpC,GAASuC,GAAYG,aAGjG3C,GAAUqB,WAAW,eAAeC,IAAIkB,EAAWrC,KAAK0C,a,KA3H3CxC,GAQVpL,UAAY,CACfC,MAAOmL,GAAcyC,mBAAmB,QACxC3N,OAAQkL,GAAcyC,mBAAmB,SACzC1N,MAAOiL,GAAcyC,mBAAmB,QACxCzN,OAAQgL,GAAcyC,mBAAmB,YChBjD,IAAM7N,GAAY,CACdC,MAAOmL,GAAcpL,UAAUC,MAC/BC,OAAQkL,GAAcpL,UAAUE,OAChCC,MAAOiL,GAAcpL,UAAUG,MAC/BC,OAAQgL,GAAcpL,UAAUI,QAuF9B0N,GAAqB,I,iDAnFvBC,OAAS,IAAIC,IAAO/K,IAAqBC,Y,oDAEjCF,GACJvE,KAAKsP,OAAS,IAAIC,IAAO/K,IAAqBD,KAAKA,M,oCAGzC+J,GAEV,IAAMkB,EAAmBlB,EAAOhD,KAAI,SAAAiD,GAShC,OARwBA,EAAM7B,IAAIpB,KAAI,SAAAoB,GAElC,MAAQ,CACJzG,KAFasI,EAAMC,MAAMQ,OAAOtC,EAAIzG,KAAJ,aAAiByG,EAAIzG,MAAS,IAG9DyG,IAAMA,EAAIgC,KAAKe,MAAM,KAAK,GAC1BC,MAAOhD,EAAIgD,aAMvB,OAAQ1P,KAAKsP,OAAOK,QAAQH,EAAiBI,KAAK,M,gDAG5BC,EAAM5N,EAAY6N,GACxC,IAAIC,EAAWF,EAAOG,OAAOC,KAAK1O,IAAWoK,OAM9C,OAJKoE,GAAY,IACZA,EAAW,GAGT/P,KAAKkQ,0BAA0B,QAASH,EAAU9N,EAAW6N,GAC9Dd,OAAOhP,KAAKkQ,0BAA0B,SAAUH,EAAU9N,EAAY6N,IACtEd,OAAOhP,KAAKkQ,0BAA0B,QAASH,EAAU9N,EAAY6N,IACrEd,OAAOhP,KAAKkQ,0BAA0B,SAAUH,EAAU9N,EAAY6N,M,gDAGrD5R,EAAO2R,EAAM5N,EAAYkO,GAAY,IAAD,OACtD7B,EAAS,GACb,MAAc,QAAVpQ,EACO8B,KAAKsP,OAAOK,QAAQ3P,KAAKoQ,0BAA0BP,EAAM5N,EAAYkO,IAEvEjS,KAASqD,IAIVU,EAAWG,OACXkM,EAASA,EAAOU,OAAOzN,GAAUrD,GAAOkE,OAExCH,EAAWI,SACXiM,EAASA,EAAOU,OAAOzN,GAAUrD,GAAOmE,SAExCJ,EAAWK,OACXgM,EAASA,EAAOU,OAAOzN,GAAUrD,GAAOoE,OAE5CgM,EAAStO,KAAKsP,OAAOK,QAAQrB,IAGf,IAAd6B,EACyBnQ,KAAKqQ,cAAc/B,GAGnBgC,MAAM,EAAGT,GAIfvB,EAAOgC,MAAM,EAAGT,GAGKvE,KAAI,SAAAiD,GAC5C,IAAMgC,EAAe,EAAKjB,OAAOK,QAAQpB,EAAM7B,KAAK,GAEpD,MAAQ,CACJzG,KAFasI,EAAMC,MAAMQ,OAAOuB,EAAatK,KAAb,aAA0BsK,EAAatK,MAAS,IAGhFyG,IAAK6D,EAAa7B,KAAKe,MAAM,KAAK,GAClCC,MAAOa,EAAab,WAhCb,O,2BChCvB,IAMec,GANQ,CACnBC,iBAjBJ,SAA0BC,GACtB,IAAMC,EAASD,EAAOE,YAEtBF,EAAOG,UAAUF,EAAS,KAe1BG,eAxBJ,SAAwBJ,GACpB,IAAMC,EAASD,EAAOE,YAEtBF,EAAOG,UAAUF,EAAS,KAsB1BI,YAbJ,SAAqBL,GACjB,IAAMM,EAASN,EAAOO,iBAEP,IAAXD,EACAN,EAAOQ,aACW,IAAXF,GACPN,EAAOS,c,UCZTC,IACK,EADLA,GAEI,EAFJA,GAGK,EAHLA,GAIO,EAJPA,GAKI,EAGWC,G,kDACjB,WAAYpT,GAAQ,IAAD,uBACf,cAAMA,IA8CVqT,SAAW,SAAC1R,GAERA,EAAME,OAAOqR,YACb,EAAKlR,SAAS,CACVsR,UAAW3R,EAAME,SAErB2N,QAAQC,IAAI,wBArDG,EAwDnB8D,QAAU,SAAC5R,GAGP6N,QAAQC,IAAI,iBACZ,EAAKzN,SAAS,CACVwR,QAAQ,EACRC,cAAe,EAAKnT,MAAMmT,cAAgB,KA9D/B,EAkEnBC,OAAS,SAAC/R,GAENA,EAAME,OAAO8R,YACbnE,QAAQC,IAAI,eArEG,EAyEnBmE,SAAW,SAACjS,GAERkS,MAAM,IAAD,OAAK,EAAKvT,MAAMwT,UAAU9L,KAA1B,4CAAkE,EAAK1H,MAAMwT,UAAUrF,MAC5F,EAAKzM,SAAS,CACVoO,OAAO,KA7EI,EAkFnB2D,eAAiB,SAACpS,GAEd6N,QAAQC,IAAI,kBAAoB9N,EAAM2N,MACzB3N,EAAM2N,MArFJ,EA6GnB0E,aAAe,SAACC,GACZ,IAAIC,EAAiB,GAKrB,OAJA,EAAKlS,SAAS,CACVwR,QAAQ,EACRpD,OAAO,IAEJ,IAAI+D,SAAQ,SAACC,EAASC,GACzB,GAA6B,IAAzB,EAAKC,SAAS5G,OAAlB,CAKA,IAAM6G,GAAkB,IAAVN,EAAiB,EAAKK,SAASL,QAAU,EAAKK,SAAS,GAG/DE,EAAM,CACR/O,OAAQvF,OAAOuU,OAAOhP,OAAS,EAC/BG,MAAO1F,OAAOuU,OAAO7O,MACrB8O,WAAY,CAERC,SAAU,EACVlD,MAAO8C,EAAM9C,MACbmD,IAAKL,EAAM9C,MAAQ,EAAK/M,UAAY,EAAKmQ,WACzCC,GAAI,EACJC,OAAQ7U,OAAO8U,WAGvBxF,QAAQC,IAAI,eACZ,EAAKzN,SAAS,CACV8R,UAAWS,EACX9B,OAAQ,cAAC,KAAD,CAASwC,QAASV,EAAM9F,IAChByG,KAAMV,EACNW,QAAS,EAAK9B,SACd+B,OAAQ,EAAK7B,QACb8B,MAAO,EAAK3B,OACZ4B,QAAS,EAAK1B,SACd2B,cAAe,EAAKxB,mBAIxC,IAAMyB,EAAQC,aAAY,WACtBvB,KAC0B,IAAtB,EAAK5T,MAAMkT,QACXkC,cAAcF,GACdpB,MACOF,GAAkB,IAA0B,IAArB,EAAK5T,MAAM8P,SACzCZ,QAAQC,IAAI,wBACZiG,cAAcF,GACdnB,OAEL,UA1CCA,QArHO,EA0LnBsB,WAAa,SAACH,EAAOI,GACjBF,cAAcF,GACd,EAAKxT,SAAS,CACV+Q,OAAQI,GACRxS,SAAS,EACTkV,QAAS,EAAKnR,YAElB,EAAKkR,UAAUA,IAjMA,EAoMnBE,YAAc,SAACN,GACX,OAAQ,EAAKlV,MAAMyS,QACf,KAAKI,GACD,OAAO,EACX,KAAKA,GAED,OADA,EAAKwC,WAAWH,GAAM,IACf,EACX,KAAKrC,GAED,YADA,EAAKwC,WAAWH,GAAM,KA1M9B,IAAMO,EAAY7V,OAAOC,aAAaC,QAAQ,cACxCkG,EAAOpG,OAAOC,aAAaC,QAAQ,QAGnCoE,EAAetE,OAAOC,aAAaC,QAAQ,iBAC3C4D,EAAaC,KAAKC,MAAMhE,OAAOC,aAAaC,QAAQ,eACpD0D,EAA0E,SAAtD5D,OAAOC,aAAaC,QAAQ,sBAChDH,EAAQC,OAAOC,aAAaC,QAAQ,SAT3B,OAYf,EAAKsE,UAAYwB,SAAShG,OAAOC,aAAaC,QAAQ,eACtD,EAAKuE,SAAWuB,SAAShG,OAAOC,aAAaC,QAAQ,cAErDgR,GAAmB4E,QAAQ1P,GAC3B,EAAKgO,SAAWlD,GAAmBa,0BAA0BhS,EAAOuE,EAAcR,EAAYF,GAE9F,EAAKxD,MAAQ,CACTK,SAAS,EACToS,OAAQI,GACR0C,QAAS,EAAKnR,UACd+N,YAAQwD,EACR3C,UAAW,KACXG,cAAe,EACfK,UAAW,KACXN,QAAQ,EACRpD,OAAO,EACP8F,MAAM,GAGV,EAAKN,UAAY,EAAKA,UAAUrU,KAAf,gBACjB,EAAKyS,aAAe,EAAKA,aAAazS,KAAlB,gBACpB,EAAKqS,SAAW,EAAKA,SAASrS,KAAd,gBAChB,EAAKgS,QAAU,EAAKA,QAAQhS,KAAb,gBACf,EAAK8R,SAAW,EAAKA,SAAS9R,KAAd,gBAChB,EAAK4U,eAAiB,EAAKA,eAAe5U,KAApB,gBACtB,EAAK6U,gBAAkB,EAAKA,gBAAgB7U,KAArB,gBACvB,EAAK8U,cAAgB,EAAKA,cAAc9U,KAAnB,gBAGhBwU,GACD,EAAK/V,MAAMuL,QAAQC,KAAK,KA1Cb,E,sDAmKTyI,GAAQ,IAAD,OACK/T,OAAOC,aAAaC,QAAQ,gBAI9CoP,QAAQC,IAAI,sBACZ1N,KAAKiS,aAAaC,GAAO7E,MAAK,WAC1B,EAAKpN,SAAS,CACV+Q,OAAQI,GACR0C,QAAS,EAAKnR,YAElB,EAAKyR,oBACNjG,OAAM,WACLV,QAAQC,IAAI,oCACiB,IAAzB,EAAK6E,SAAS5G,OACd,EAAK1N,MAAMuL,QAAQC,KAAK,KAExB,EAAKoK,UAAU3B,S,wCAgCR,IAAD,OACRuB,EAAQC,aAAY,WAEtB,IAAI,EAAKK,YAAYN,GAArB,CAGA,IAAMK,EAAU,EAAKvV,MAAMuV,QACX,IAAZA,EACA,EAAKF,WAAWH,GAAM,GAEtB,EAAKxT,SAAS,CACV6T,QAASA,EAAU,OAG5B,O,uCAGW,IAAD,OACPL,EAAQC,aAAY,WAEtB,IAAI,EAAKK,YAAYN,GAArB,CAGA,IAAMK,EAAU,EAAKvV,MAAMuV,QACX,IAAZA,GACAH,cAAcF,GACd,EAAKxT,SAAS,CACVrB,SAAS,EACTkV,QAAS,EAAKlR,WAElB,EAAKyR,mBAEL,EAAKpU,SAAS,CACV6T,QAASA,EAAU,OAG5B,O,oCAIOhS,EAAKlC,GACf,GAA0B,OAAtBI,KAAKzB,MAAMmS,OAIf,OADAjD,QAAQC,IAAI,kBAAoB5L,GACxBA,GACJ,IAAK,KACD0O,GAAeM,eAAe9Q,KAAKzB,MAAMgT,WACzC,MACJ,IAAK,OACDf,GAAeC,iBAAiBzQ,KAAKzB,MAAMgT,WAC3C,MACJ,IAAK,OACDvR,KAAKC,SAAS,CACV+Q,OAAQI,KAEZ,MACJ,IAAK,QACDpR,KAAKC,SAAS,CACV+Q,OAAQI,KAEZ,MACJ,IAAK,QACDpR,KAAKC,SAAS,CACV+Q,OAAQhR,KAAKzB,MAAMyS,SAAWI,GAAeA,GAAcA,KAG/DZ,GAAeO,YAAY/Q,KAAKzB,MAAMgT,WACtC,MACJ,IAAK,MAEDvR,KAAK/B,MAAMuL,QAAQC,KAAK,Q,2CAShCzJ,KAAK6T,WAAU,K,4EAOf,OAAO,gCACH,cAAC/J,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,iCAC9BP,KAAKzB,MAAMK,SACb,qBAAK2B,MAAO,CACR2G,SAAU,WAAYE,KAAM,MAAOQ,IAAK,MACxCP,UAAW,wBACXiB,SAAU,QACV9H,MAAO,UACP+T,WAAY,QALhB,SAOKvU,KAAKzB,MAAMuV,UAGhB,sBAAKvT,MAAO,CAAE3B,QAASoB,KAAKzB,MAAMK,QAAU,GAAK,OAAQsI,SAAU,YAAnE,UACI,qBAAK3G,MAAO,CAAE2G,SAAU,YAAxB,SACKlH,KAAKzB,MAAMmS,SAES,MAAxB1Q,KAAKzB,MAAMwT,WAAqB,qBAAKxR,MAAO,CAAE2G,SAAU,WAAY,UAAW,EAAG7H,OAAQ,OAAQmB,MAAO,UAAW+T,WAAY,OAAQjM,SAAU,OAAQ,iBAAkB,cAA5I,SAC5BtI,KAAKzB,MAAMwT,UAAU9L,UAG9B,qBAAK1F,MAAO,CAAE3B,QAAS,QAAvB,SACI,cAAC,KAAD,CACI4V,WAAY,CAAC,KAAM,OAAQ,OAAQ,QAAS,QAAS,OACrDC,WAAYzU,KAAKsU,yB,GApUWjT,IAAMC,WCRhDoT,GAAsB,CACxB9V,QAAS,OACT+V,cAAe,SACfxM,WAAY,UAGVyM,GAAc,SAACC,GACjB,MAAO,CAAC7V,gBAAkB6V,EACtBhW,UAAW,KACXgF,MAAO,MACPH,OAAQ,SAIKoR,G,kDACjB,WAAY7W,GAAQ,IAAD,8BACf,cAAMA,IAED8W,mBAAqB,EAAKA,mBAAmBvV,KAAxB,gBAC1B,EAAKwV,iBAAmB,EAAKA,iBAAiBxV,KAAtB,gBACxB,EAAKyV,uBAAyB,EAAKA,uBAAuBzV,KAA5B,gBALf,E,iEASfQ,KAAK/B,MAAMuL,QAAQC,KAAK,e,yCAIxBzJ,KAAK/B,MAAMuL,QAAQC,KAAK,a,+CAIxBzJ,KAAK/B,MAAMuL,QAAQC,KAAK,mB,+BAIxB,OAAO,sBAAKlJ,MAAO,CAAEsJ,SAAU,UAAxB,UACH,cAACC,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,sBAAKA,MAAOmU,GAAZ,UACI,mBAAGnU,MAAO,CAACC,MAAO,SAAlB,qGACA,cAAC4J,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,MAAOqU,GAAY,WAAYpO,QAASxG,KAAK+U,mBAAzE,gCAGA,cAAC3K,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,MAAOqU,GAAY,WAAYpO,QAASxG,KAAKgV,iBAAzE,gCAGA,cAAC5K,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,MAAOqU,GAAY,WAAYpO,QAASxG,KAAKiV,uBAAzE,iCAIJ,cAAChO,GAAD,W,GApC0B5F,IAAMC,WCbtCoT,GAAsB,CACxB9V,QAAS,OACT+V,cAAe,SACfxM,WAAY,SACZ3H,MAAO,SAaU0U,G,kDACjB,WAAYjX,GAAQ,IAAD,8BACf,cAAMA,IAEDoL,eAAiB,EAAKA,eAAe7J,KAApB,gBAHP,E,6DAOfQ,KAAK/B,MAAMuL,QAAQC,KAAK,O,+BAIxB,OAAO,sBAAKlJ,MAAO,CAAEsJ,SAAU,UAAxB,UACH,cAACC,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,cAAC6J,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,OAxBnBsU,EAwBsC,UAvBhD,CACH7V,gBAAkB6V,EAClBhW,UAAW,KACXyL,WAAY,KACZzG,MAAO,MACPH,OAAQ,SAkBuD8C,QAASxG,KAAKqJ,eAAzE,kBAGA,qBAAK9I,MAAOmU,GAAZ,SACI,cAACvU,EAAA,EAAD,CAAYK,MAAM,UAAlB,kCAEJ,cAACyG,GAAD,OA9BQ,IAAC4N,M,GAUyBxT,IAAMC,W,6BCIpD,IAAM7C,GAAU,CACZgF,KAAM,CACFI,MAAO,OACPsR,SAAU,IACVnW,gBAAiB,UACjBkI,SAAU,WACV2C,SAAU,OACVuL,UAAW,KAEfC,YAAa,CACTrW,gBAAiB,WAErBsW,GAAI,CACAtW,gBAAiB,UACjBuW,QAAS,IAeIC,G,kDACjB,WAAYvX,GAAQ,IAAD,8BACf,cAAMA,IAEDM,MAAQ,CACT,kBAAmB,GACnB,mBAAoB,GACpB,kBAAmB,IAGvB,EAAKkX,mBAAqB,EAAKA,mBAAmBjW,KAAxB,gBAC1B,EAAK6J,eAAiB,EAAKA,eAAe7J,KAApB,gBACtB,EAAKkW,kBAAoB,EAAKA,kBAAkBlW,KAAvB,gBAXV,E,0DAcLI,EAAO8M,GACjB,IAAMiJ,EAAYxX,OAAO2C,KAAK4L,EAAK,SAAU,uBACzCiJ,IACAA,EAAUC,OAAS,Q,yCAIRhW,EAAOG,GACtB,IAAM8V,EAAc,WAChB,IAAMC,EAAY,GACZhU,EAAMlC,EAAME,OAAOe,GAAG4O,MAAM,KAAK,GAClC3N,EAMDgU,EADsB,oBAAahU,GAAMiU,eACJ,OAAVhW,EAAiBA,EAAQ,IALpD+V,EAAU,mBAAqB,GAC/BA,EAAU,oBAAsB,GAChCA,EAAU,mBAAqB,IAKnC,OAAOA,EAXS,GAcpB9V,KAAKC,SAAS4V,K,sCAGFtH,EAAOtI,GAAO,IAAD,OAMnB+P,EAAgB,oBAAa/P,GAAO8P,cAE1C,OAAK/V,KAAKzB,MAAMyX,IAAmBhW,KAAKzB,MAAMyX,GAAetJ,IAGtD,qBAAKnM,MAAO9B,GAAQgF,KAApB,SACH,cAACyH,GAAA,EAAD,CAAM3K,MAAO,CAACvB,gBAAiB,UAAWwB,MAAO,WAAYyV,UAAW,uBAAxE,SACKjW,KAAKzB,MAAMyX,GAAetJ,IAAIpB,KAAI,SAACyC,GAAD,OAC/B,oBAAuBxN,MAAO9B,GAAQ4W,YAAtC,SACI,oBAAI9U,MAAO9B,GAAQ6W,GAAnB,SACI,cAACnK,GAAA,EAAD,CAAUxM,QAAM,EAAC6H,QAAS,SAAA5G,GAAK,OAAI,EAAKsW,cAActW,EAAOmO,EAAQW,OAArE,SACI,cAACyH,GAAA,EAAD,CAAcC,QAASrI,EAAQW,QADnC,eAAyFX,EAAQW,UAFhGX,EAAQW,aALlB,0B,wCAiBGH,EAAOtI,GAAO,IAAD,OACrBoQ,EAAe,oBAAgBpQ,GACrC,OAAO,sBAAK1F,MAAO,CACfvB,gBAAiB,UACjBJ,QAAS,eACT,cAAiB,UAHd,UAIH,cAAC0X,GAAA,EAAD,CAAc9V,MAAM,UACNS,SAAUjB,KAAKyV,mBACf5U,GAAE,oBAAeoF,GACjBsQ,QAAShI,EACTiI,eAAgB,SAACC,GAAD,OAAYA,EAAOjI,OACnCjO,MAAO,CAAEsD,MAAO,KAChB6S,YAAa,SAACC,GAAD,OAAY,cAAC9Q,EAAA,EAAD,6BAAe8Q,GAAf,IAAuB5W,MAAO,EAAKxB,MAAM8X,GAAkB5P,MAAOR,EAAM7F,QAAQ,iBAEtHJ,KAAK4W,gBAAgBrI,EAAOtI,Q,uCAKjCjG,KAAK/B,MAAMuL,QAAQC,KAAK,O,0CAIxBkD,GAAckK,sBAAsBC,EAAQ,KAA2B,UACvEnK,GAAckK,sBAAsBC,EAAQ,KAAwB,SACpEnK,GAAckK,sBAAsBC,EAAQ,KAAyB,Y,+BAKrE,OAAO,gCACH,cAAChN,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,cAAC6J,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,OA7GnBsU,EA6GsC,UA5GhD,CACH7V,gBAAkB6V,EAClBhW,UAAW,KACXyL,WAAY,KACZzG,MAAO,MACPH,OAAQ,SAuGuD8C,QAASxG,KAAKqJ,eAAzE,kBAGA,sBAAK9I,MAAO,CACRsD,MAAO,MACPH,OAAQ,MACRwD,SAAU,WACVU,IAAK,MACLR,KAAM,MACNC,UAAW,yBANf,UAQKrH,KAAK+W,kBAAkBpK,GAAcpL,UAAUC,MAAMwV,UAAW,SAChEhX,KAAK+W,kBAAkBpK,GAAcpL,UAAUE,OAAOuV,UAAW,UACjEhX,KAAK+W,kBAAkBpK,GAAcpL,UAAUG,MAAMsV,UAAW,SAChEhX,KAAK+W,kBAAkBpK,GAAcpL,UAAUI,OAAOqV,UAAW,aAEtE,qBAAMzW,MAAO,CACT2G,SAAU,QACVC,OAAQ,OACRU,MAAO,QAHX,SAKI,cAACuC,GAAA,EAAD,CACIhK,QAAQ,YACRG,MAAO,CAACvB,gBAAkB,WAC1BwH,QAASxG,KAAK0V,kBAHlB,6BAQJ,cAACzO,GAAD,OA1IQ,IAAC4N,M,GAWmBxT,IAAMC,W,qBC/CxC7C,GAAU,CACZgF,KAAM,CACFI,MAAO,OACPsR,SAAU,IACVnW,gBAAiB,UACjBkI,SAAU,WACV2C,SAAU,OACVuL,UAAW,KAEfC,YAAa,CACTrW,gBAAiB,WAErBsW,GAAI,CACAtW,gBAAiB,UACjBuW,QAAS,IAcI0B,G,kDACjB,aAAe,IAAD,8BACV,gBAEK1Y,MAAQ,CACTyO,UAAW,GACX9O,MAAO,QACPgZ,QAAS,IAEb,EAAKlC,iBAAmB,EAAKA,iBAAiBxV,KAAtB,gBACxB,EAAK2X,iBAAmB,EAAKA,iBAAiB3X,KAAtB,gBACxB,EAAK4X,oBAAsB,EAAKA,oBAAoB5X,KAAzB,gBAC3B,EAAK6X,oBAAsB,EAAKA,oBAAoB7X,KAAzB,gBAC3B,EAAKD,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKC,WAAa,EAAKA,WAAWD,KAAhB,gBAClB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBACnB,EAAKG,aAAe,EAAKA,aAAaH,KAAlB,gBACpB,EAAK8X,SAAW,EAAKA,SAAS9X,KAAd,gBAChB,EAAK+X,YAAc,EAAKA,YAAY/X,KAAjB,gBACnB,EAAKgY,YAAc,EAAKA,YAAYhY,KAAjB,gBAlBT,E,yDAqBDI,GACTI,KAAKC,SAAS,CACV/B,MAAO0B,EAAME,OAAOC,U,8BAGpBxB,GACJyB,KAAKC,SAAS,CACVzB,OAAQD,M,oCAKZyB,KAAKT,SAAQ,K,mCAIbS,KAAKT,SAAQ,K,0CAGGK,EAAOG,GACvBC,KAAKC,SAAS,CACV+M,UAAWjN,EAAQA,EAAMkG,KAAO,O,0CAIpBrG,GAChB,IAAMG,EAAQH,EAAME,OAAOC,MAC3BC,KAAKC,SAAS,CACV+M,UAAWjN,GAAgB,O,+BAI1BH,GACLI,KAAKzB,MAAM2Y,QAAQzN,KAAK,CACpBiF,KAAM,GACNgB,MAAO,IAEX1P,KAAKC,SAAS,CACViX,QAASlX,KAAKzB,MAAM2Y,Y,kCAIhBO,GACWA,GAAS,GAAKA,EAAQzX,KAAKzB,MAAM2Y,QAAQvL,SAGxD3L,KAAKzB,MAAM2Y,QAAQQ,OAAOD,EAAO,GACjCzX,KAAKC,SAAS,CACViX,QAASlX,KAAKzB,MAAM2Y,a,kCAKpBO,EAAO1X,EAAO4X,GAGtB,GAFmBF,GAAS,GAAKA,EAAQzX,KAAKzB,MAAM2Y,QAAQvL,OAE5C,CACZ,IAAMuL,EAAUlX,KAAKzB,MAAM2Y,QACvBS,EACAT,EAAQO,GAAO/I,KAAO3O,EAEtBmX,EAAQO,GAAO/H,MAAQvL,SAASpE,GAEpCC,KAAKC,SAAS,CACViX,QAASA,O,wCAKH3I,EAAOtI,GAAO,IAAD,OAC3B,OAAO,qBAAK1F,MAAO,CACfvB,gBAAiB,UACjBJ,QAAS,eACT,cAAiB,UAHd,SAIH,cAAC0X,GAAA,EAAD,CAAcsB,UAAQ,EAACpX,MAAM,UACfqX,QAAS7X,KAAKoX,oBACdnW,SAAUjB,KAAKqX,oBACfxW,GAAE,oBAAeoF,GACjBsQ,QAAShI,EACTiI,eAAgB,SAACC,GAAD,OAAYA,EAAOxQ,MACnC1F,MAAO,CAAEsD,MAAO,KAChB6S,YAAa,SAACC,GAAD,OAAY,cAAC9Q,EAAA,EAAD,6BAAe8Q,GAAf,IAAuB5W,MAAO,EAAKxB,MAAMyO,UAAWvG,MAAOR,EAAM7F,QAAQ,qB,sCAKvG,IAAD,OACZ,OAAO,qBAAKG,MAAO9B,GAAQgF,KAApB,SACH,cAACyH,GAAA,EAAD,CAAM3K,MAAO,CAACvB,gBAAiB,UAAWwB,MAAO,WAAYyV,UAAW,uBAAxE,SACKjW,KAAKzB,MAAM2Y,QAAQ5L,KAAI,SAACyC,EAAS0J,GAC9B,OAAO,oBAAgBlX,MAAO9B,GAAQ4W,YAA/B,SACH,oBAAI9U,MAAO9B,GAAQ6W,GAAnB,SACI,eAACnK,GAAA,EAAD,WACI,cAACtF,EAAA,EAAD,CAAW9F,MAAOgO,EAAQW,KAAMjI,MAAM,OAAOxF,SAAU,SAACrB,GAAD,OAAW,EAAK4X,YAAYC,EAAO7X,EAAME,OAAOC,OAAO,MAC9G,cAAC8F,EAAA,EAAD,CAAWC,KAAK,SAAS/F,MAAOgO,EAAQ2B,MAAOjJ,MAAM,QAAQxF,SAAU,SAACrB,GAAD,OAAW,EAAK4X,YAAYC,EAAO7X,EAAME,OAAOC,OAAO,MAC9H,cAACqK,GAAA,EAAD,CAAQhK,QAAQ,YAAYI,MAAM,YAAYsX,UAAW,cAAC,KAAD,IAAetR,QAAS,SAAA5G,GAAK,OAAI,EAAK2X,YAAYE,QAH/G,eAAuBA,OAFfA,Y,yCAqB5B,IAAMxR,EAAOjG,KAAKzB,MAAMyO,UAClB9O,EAAQ8B,KAAKzB,MAAML,MACnBwO,EAAM1M,KAAKzB,MAAM2Y,QAEvB,IAAKjR,IAAS/H,GAASwO,EAAIf,QAAU,EAGjC,OAFA8B,QAAQC,IAAIzH,QACZ6L,MAAM,0CAIV,IAAIzD,GAAQ,EAQZ,GAPA3B,EAAIoB,SAAQ,SAACY,EAAM+I,KACV/I,EAAKA,MAAQA,EAAKgB,MAAQ,KAC3BoC,MAAM,4BAA8B2F,GACpCpJ,GAAQ,OAIZA,EAAJ,CAIA,IAAME,EAAQ,CACVrQ,MAAOA,EACP+H,KAAMA,EACNyG,IAAKA,GAETC,GAAcoL,gBAAgBxJ,M,yCAI9BvO,KAAK/B,MAAMuL,QAAQC,KAAK,a,+BAIxB,OAAO,gCACH,cAACK,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,cAAC6J,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,OApLnBsU,EAoLsC,UAnLhD,CACH7V,gBAAkB6V,EAClBhW,UAAW,KACXyL,WAAY,KACZzG,MAAO,MACPH,OAAQ,SA8KuD8C,QAASxG,KAAKgV,iBAAzE,oBAGA,cAACvU,EAAA,EAAD,CAAKH,MAAM,SAAX,SACI,eAACI,EAAA,EAAD,CAAagF,UAAU,WAAWnF,MAAO,CAAE1B,UAAW,MAAtD,UACI,eAAC8B,EAAA,EAAD,CACIC,QAAQ,qBACRC,GAAG,qBACHC,KAAMd,KAAKzB,MAAMuC,KACjBC,QAASf,KAAKN,YACdsB,OAAQhB,KAAKP,WACbM,MAAOC,KAAKzB,MAAML,MAClB+C,SAAUjB,KAAKL,aACfY,MAAO,CAACvB,gBAAiB,WACzBmC,WAAY,CACRZ,MAAO,CACHC,MAAO,UAXnB,UAeI,cAACY,EAAA,EAAD,CAAUrB,MAAM,GAAhB,SAAmB,wCACnB,cAACqB,EAAA,EAAD,CAAUrB,MAAM,QAAhB,yBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,SAAhB,mBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,QAAhB,mBACA,cAACqB,EAAA,EAAD,CAAUrB,MAAM,SAAhB,uBAEkB,UAArBC,KAAKzB,MAAML,OAAqB8B,KAAK+W,kBAAkBpK,GAAcpL,UAAUC,MAAO,cACjE,WAArBxB,KAAKzB,MAAML,OAAsB8B,KAAK+W,kBAAkBpK,GAAcpL,UAAUE,OAAQ,cACnE,UAArBzB,KAAKzB,MAAML,OAAqB8B,KAAK+W,kBAAkBpK,GAAcpL,UAAUG,MAAO,cACjE,WAArB1B,KAAKzB,MAAML,OAAsB8B,KAAK+W,kBAAkBpK,GAAcpL,UAAUI,OAAQ,cACxF3B,KAAKgY,gBACLhY,KAAKzB,MAAML,OAAS,cAACkM,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,MAAO,CAACvB,gBAAiB,WAAYwH,QAASxG,KAAKsX,SAA/E,0BAK7B,qBAAM/W,MAAO,CACT2G,SAAU,QACVC,OAAQ,OACRU,MAAO,QAHX,SAKI,cAACuC,GAAA,EAAD,CACIhK,QAAQ,YACRG,MAAO,CAACvB,gBAAkB,WAC1BwH,QAASxG,KAAKmX,iBAHlB,6BAQJ,cAAClQ,GAAD,OArOQ,IAAC4N,M,GAUoBxT,IAAMC,WCV/C,IAAM7C,GAAU,CACZgF,KAAM,CACFI,MAAO,OACPsR,SAAU,IACVnW,gBAAiB,UACjBkI,SAAU,WACV2C,SAAU,OACVuL,UAAW,KAEfC,YAAa,CACTrW,gBAAiB,WAErBsW,GAAI,CACAtW,gBAAiB,UACjBuW,QAAS,IAeI0C,G,kDACjB,WAAYha,GAAQ,IAAD,8BACf,cAAMA,IAEDM,MAAQ,CACT,wBAAyB,IAG7B,EAAKkX,mBAAqB,EAAKA,mBAAmBjW,KAAxB,gBAC1B,EAAK6J,eAAiB,EAAKA,eAAe7J,KAApB,gBACtB,EAAKkW,kBAAoB,EAAKA,kBAAkBlW,KAAvB,gBACzB,EAAK0Y,iBAAmB,EAAKA,iBAAiB1Y,KAAtB,gBAVT,E,0DAaLI,EAAO8M,GACjB,IAAMiJ,EAAYxX,OAAO2C,KAAK4L,EAAK,SAAU,uBACzCiJ,IACAA,EAAUC,OAAS,Q,yCAIRhW,EAAOG,GACtB,IAAM8V,EAAc,WAChB,IAAMC,EAAY,GACZhU,EAAMlC,EAAME,OAAOe,GAAG4O,MAAM,KAAK,GAClC3N,EAIDgU,EADsB,oBAAahU,GAAMiU,eACJ,OAAVhW,EAAiBA,EAAQ,GAHpD+V,EAAU,yBAA2B,GAKzC,OAAOA,GACTtW,KAAKI,EAVa,GAYpBI,KAAKC,SAAS4V,K,sCAGFtH,EAAOtI,GAAO,IAAD,OAMnB+P,EAAgB,oBAAa/P,GAAO8P,cAE1C,OAAK/V,KAAKzB,MAAMyX,IAAmBhW,KAAKzB,MAAMyX,GAAetJ,IAGtD,qBAAKnM,MAAO9B,GAAQgF,KAApB,SACH,cAACyH,GAAA,EAAD,CAAM3K,MAAO,CAACvB,gBAAiB,UAAWwB,MAAO,WAAYyV,UAAW,uBAAxE,SACKjW,KAAKzB,MAAMyX,GAAetJ,IAAIpB,KAAI,SAACyC,GAAD,OAC/B,oBAAuBxN,MAAO9B,GAAQ4W,YAAtC,SACI,oBAAI9U,MAAO9B,GAAQ6W,GAAnB,SACI,eAACnK,GAAA,EAAD,CAAUxM,QAAM,EAAC6H,QAAS,SAAA5G,GAAK,OAAI,EAAKsW,cAActW,EAAOmO,EAAQW,OAArE,UACI,cAACyH,GAAA,EAAD,CAAcC,QAASrI,EAAQW,OAC/B,cAACyH,GAAA,EAAD,CAAcC,QAASrI,EAAQ2B,UAFnC,eAAyF3B,EAAQW,UAFhGX,EAAQW,aALlB,0B,wCAkBGH,EAAOtI,GAAO,IAAD,OACrBoQ,EAAe,oBAAgBpQ,GACrC,OAAO,sBAAK1F,MAAO,CACfvB,gBAAiB,UACjBJ,QAAS,eACT,cAAiB,UAHd,UAIH,cAAC0X,GAAA,EAAD,CAAc9V,MAAM,UACNS,SAAUjB,KAAKyV,mBACf5U,GAAE,oBAAeoF,GACjBsQ,QAAShI,EACTiI,eAAgB,SAACC,GAAD,gBAAeA,EAAOxQ,KAAtB,aAA+BwQ,EAAOvY,MAAtC,MAChBqC,MAAO,CAAEsD,MAAO,KAChB6S,YAAa,SAACC,GAAD,OAAY,cAAC9Q,EAAA,EAAD,6BAAe8Q,GAAf,IAAuB5W,MAAO,EAAKxB,MAAM8X,GAAkB5P,MAAOR,EAAM7F,QAAQ,iBAEtHJ,KAAK4W,gBAAgBrI,EAAOtI,Q,uCAKpB8I,GAEbtB,QAAQC,IAAI,sCAAwCqB,GAEpD,IAAMD,EAAa9O,KAAKzB,MAAM,yBAE1BuQ,GACAnC,GAAcwL,iBAAiBrJ,EAAYC,K,uCAK/C/O,KAAK/B,MAAMuL,QAAQC,KAAK,O,0CAIxBzJ,KAAK/B,MAAMuL,QAAQC,KAAK,qB,+BAGlB,IAjHOoL,EAiHR,OACL,OAAO,gCACH,cAAC/K,GAAA,EAAD,CAAQC,eAAgB,CAACxJ,MAAO,gCAChC,cAAC6J,GAAA,EAAD,CAAQhK,QAAQ,YAAYG,OApHnBsU,EAoHsC,UAnHhD,CACH7V,gBAAkB6V,EAClBhW,UAAW,KACXyL,WAAY,KACZzG,MAAO,MACPH,OAAQ,SA8GuD8C,QAASxG,KAAKqJ,eAAzE,kBAGA,qBAAK9I,MAAO,CACRsD,MAAO,MACPH,OAAQ,MACRwD,SAAU,WACVU,IAAK,MACLR,KAAM,MACNC,UAAW,yBANf,SAQKrH,KAAK+W,kBAAkBpK,GAAcyL,iBAAkB,iBAE5D,qBAAM7X,MAAO,CACT2G,SAAU,QACVC,OAAQ,OACRU,MAAO,SAHX,SAKI,cAACuC,GAAA,EAAD,CACIhK,QAAQ,YACRG,MAAO,CAACvB,gBAAkB,WAC1BwH,QAAS,SAAA5G,GAAK,OAAI,EAAKsY,kBAAiB,IAH5C,sBAQJ,qBAAM3X,MAAO,CACT2G,SAAU,QACVC,OAAQ,OACRU,MAAO,QAHX,SAKI,cAACuC,GAAA,EAAD,CACIhK,QAAQ,YACRG,MAAO,CAACvB,gBAAkB,WAC1BwH,QAAS,SAAA5G,GAAK,OAAI,EAAKsY,kBAAiB,IAH5C,sBAQJ,cAACjR,GAAD,W,GAhJqC5F,IAAMC,WC7BxC+W,G,uKAhBP,OACI,cAAC,IAAD,CAAYC,SAAS,IAArB,SACI,gCACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAI9S,UAAWoP,KACjC,cAAC,IAAD,CAAOyD,OAAK,EAACC,KAAK,YAAY9S,UAAWiD,KACzC,cAAC,IAAD,CAAO4P,OAAK,EAACC,KAAK,gBAAgB9S,UAAWwP,KAC7C,cAAC,IAAD,CAAOqD,OAAK,EAACC,KAAK,UAAU9S,UAAW8P,KACvC,cAAC,IAAD,CAAO+C,OAAK,EAACC,KAAK,kBAAkB9S,UAAWuR,KAC/C,cAAC,IAAD,CAAOsB,OAAK,EAACC,KAAK,aAAa9S,UAAW2L,KAC1C,cAAC,IAAD,CAAOkH,OAAK,EAACC,KAAK,qBAAqB9S,UAAWuS,c,GAZ1C3W,aCUbmX,OAhBf,WAaE,OAXAta,OAAOC,aAAayB,QAAQ,QAAS,SACrC1B,OAAOC,aAAayB,QAAQ,gBAAiB,OAC7C1B,OAAOC,aAAayB,QAAQ,aAAcqC,KAAKK,UAAU,CACvDH,MAAM,EACNC,QAAQ,EACRC,MAAM,KAERnE,OAAOC,aAAayB,QAAQ,aAAc,MAC1C1B,OAAOC,aAAayB,QAAQ,YAAa,KACzC1B,OAAOC,aAAayB,QAAQ,qBAAsB,SAE1C,cAAC,GAAD,KCLK6Y,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvL,MAAK,YAAkD,IAA/CwL,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.08a6dc47.chunk.js","sourcesContent":["import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nexport default class ThemeSelectorForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const theme = window.localStorage.getItem('theme')\r\n\r\n        this.defaultTheme = theme ? theme : 'games'\r\n\r\n        this.state = {\r\n            opened: false,\r\n            theme: this.defaultTheme,\r\n            classes:  makeStyles((theme) => ({\r\n                button: {\r\n                    display: 'block',\r\n                    marginTop: theme.spacing(2),\r\n                },\r\n                select: {\r\n                    backgroundColor: 'white',\r\n                    '&:before': {\r\n                        borderColor: '#eaeaf0',\r\n                    },\r\n                    '&:after': {\r\n                        borderColor: '#0FDC06',\r\n                    }\r\n                },\r\n                icon: {\r\n                    fill: '#0FDC06',\r\n                },\r\n                formControl: {\r\n                    margin: theme.spacing(1),\r\n                    minWidth: 120,\r\n                },\r\n            }))\r\n        }\r\n\r\n        this.setOpen = this.setOpen.bind(this);\r\n        this.handleOpen = this.handleOpen.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        window.localStorage.setItem('theme', event.target.value);\r\n        this.setState({\r\n            theme: event.target.value\r\n        })\r\n    };\r\n\r\n    setOpen(state) {\r\n        this.setState({\r\n            opened: state\r\n        })\r\n    }\r\n\r\n    handleClose() {\r\n        this.setOpen(false);\r\n    }\r\n\r\n    handleOpen() {\r\n        this.setOpen(true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Typography variant=\"h6\" gutterBottom align='center' style={{ color: 'white'}}>\r\n                    Select Theme\r\n                </Typography>\r\n                <Box align='center'>\r\n                    <FormControl style={{ marginTop: '10%', minWidth: 300 }}>\r\n                        <Select\r\n                            labelId=\"demo-controlled-open-select-label\"\r\n                            id=\"demo-controlled-open-select\"\r\n                            open={this.state.open}\r\n                            onClose={this.handleClose}\r\n                            onOpen={this.handleOpen}\r\n                            value={this.state.theme}\r\n                            onChange={this.handleChange}\r\n                            defaultValue={this.defaultTheme}\r\n                            style={{ color: '#ffffff'}}\r\n                            inputProps={{\r\n                                style: {\r\n                                    color: 'white'\r\n                                },\r\n                                classes: {\r\n                                    icon: this.state.classes.icon\r\n                                }\r\n                            }}\r\n                        >\r\n                            <MenuItem value=\"\"><em>None</em></MenuItem>\r\n                            <MenuItem value='games'>Video Games</MenuItem>\r\n                            <MenuItem value='animes'>Anime</MenuItem>\r\n                            <MenuItem value='films'>Films</MenuItem>\r\n                            <MenuItem value='musics'>Musics</MenuItem>\r\n                            <MenuItem value='all'>All Genre</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Box>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Typography,\r\n    Grid\r\n} from \"@material-ui/core\"\r\n\r\nconst ThemeList = {\r\n    games: \"Video Games\",\r\n    animes: \"Animes\",\r\n    films: \"Movies\",\r\n    musics: \"Musics\",\r\n    all: \"All Genre\"\r\n}\r\n\r\nfunction getTheme() {\r\n    const key = window.localStorage.getItem('theme')\r\n    const allowSameLicence = (window.localStorage.getItem('allow_same_licence') === 'true')\r\n\r\n    const result = `${ThemeList[key]} (${allowSameLicence ? 'Multiple selection per Licence' : 'One selection per Licence'})`\r\n    return result;\r\n}\r\n\r\nfunction getFormattedDifficulty() {\r\n    const difficulty = JSON.parse(window.localStorage.getItem('difficulty'))\r\n\r\n    if (difficulty.easy && !difficulty.medium && !difficulty.hard) {\r\n        return 'Easy mode, for beginners'\r\n    } else if (!difficulty.easy && difficulty.medium && !difficulty.hard) {\r\n        return 'Normal mode, for some good surprises !'\r\n    } else if (!difficulty.easy && !difficulty.medium && difficulty.hard) {\r\n        return 'Hard mode, for tryharders !'\r\n    } else if (difficulty.easy && difficulty.medium && !difficulty.hard) {\r\n        return 'Easy and Medium mode, for more content without difficulty !'\r\n    } else if (difficulty.easy && !difficulty.medium && difficulty.hard) {\r\n        return 'Easy and Hard mode, because why not ?'\r\n    } else if (!difficulty.easy && difficulty.medium && difficulty.hard) {\r\n        return 'Medium and Hard mode, best combo for training !'\r\n    } else if (difficulty.easy && difficulty.medium && difficulty.hard) {\r\n        return 'All in one ! Harder Better Faster !'\r\n    } else {\r\n        window.localStorage.setItem('difficulty', JSON.stringify({\r\n            easy: true,\r\n            medium: true,\r\n            hard: false,\r\n        }));\r\n        return 'Easy and Medium mode, for more content without difficulty !'\r\n    }\r\n}\r\n\r\nfunction getFormattedPlaylistSize() {\r\n    const playlistSize = window.localStorage.getItem('playlist_size');\r\n\r\n    return `${playlistSize} elements in this playlist`;\r\n}\r\n\r\nfunction getFormattedGuessTime() {\r\n    const guessTime = window.localStorage.getItem('guess_time');\r\n    const waitTime = window.localStorage.getItem('wait_time');\r\n\r\n    return `${guessTime} sec to guess then ${waitTime} before next guess`;\r\n}\r\n\r\nexport default function Review() {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Typography variant=\"h6\" gutterBottom align='center' style={{ color: 'white' }}>\r\n                Configuration summary\r\n            </Typography>\r\n            <Typography variant=\"h6\" gutterBottom align='center'>\r\n                <Grid container spacing={5} style={{ marginTop: '5%' }}>\r\n                    <React.Fragment key=\"Theme\">\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>Theme</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>{getTheme()}</Typography>\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                    <React.Fragment key=\"Difficulty\">\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>Difficulty</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>{getFormattedDifficulty()}</Typography>\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                    <React.Fragment key=\"Size of Playlist\">\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>Size of Playlist</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>{getFormattedPlaylistSize()}</Typography>\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                    <React.Fragment key=\"Guess Time\">\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>Guess/Answer Time</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Typography gutterBottom style={{ color: 'white' }}>{getFormattedGuessTime()}</Typography>\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                </Grid>\r\n            </Typography>\r\n        </React.Fragment>\r\n    );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Typography,\r\n    TextField,\r\n    FormControl,\r\n    Slider,\r\n    Box,\r\n    FormLabel,\r\n    Checkbox,\r\n    Switch,\r\n    FormGroup\r\n} from \"@material-ui/core\"\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport {MersenneTwister19937} from \"random-js\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nconst GreenSwitch = withStyles({\r\n    switchBase: {\r\n        color: '#0CB804',\r\n        '&$checked': {\r\n            color: '#0CB804',\r\n        },\r\n        '&$checked + $track': {\r\n            backgroundColor: '#48DF40',\r\n        },\r\n    },\r\n    checked: {},\r\n    track: {},\r\n})(Switch);\r\n\r\nconst CustomSlider = withStyles({\r\n    root: {\r\n        color: \"#137E0E\"\r\n    },\r\n    track: {\r\n        height: 3,\r\n        borderRadius: 2,\r\n    },\r\n    thumb: {\r\n        height: 15,\r\n        width: 15,\r\n        backgroundColor: \"#0CB804\",\r\n        border: \"2px solid currentColor\",\r\n        \"&:focus, &:hover, &$active\": {\r\n            boxShadow: \"#137E0E 0 2px 3px 1px\",\r\n        },\r\n        color: \"#0CB804\",\r\n    },\r\n    active: {}\r\n})(Slider);\r\n\r\nexport default class BlindtestCustomizerForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const playlistSize = parseInt(window.localStorage.getItem('playlist_size'))\r\n        const difficulty = JSON.parse(window.localStorage.getItem('difficulty'))\r\n        const guessTime = parseInt(window.localStorage.getItem('guess_time'))\r\n        const waitTime = parseInt(window.localStorage.getItem('wait_time'))\r\n        const allowSameLicence = (window.localStorage.getItem('allow_same_licence') === 'true')\r\n\r\n        this.defaultplaylistSize = playlistSize ? playlistSize : 100\r\n        this.defaultGuessTime = guessTime ? guessTime : 13\r\n        this.defaultWaitTime = waitTime ? waitTime : 5\r\n\r\n        this.state = {\r\n            opened: false,\r\n            playlistSize: this.defaultplaylistSize,\r\n            difficulty: difficulty,\r\n            guessTime: this.defaultGuessTime,\r\n            waitTime: this.defaultWaitTime,\r\n            allowSameLicence: allowSameLicence,\r\n            seed: MersenneTwister19937.autoSeed().next(),\r\n            classes:  makeStyles((theme) => ({\r\n                formControl: {\r\n                    margin: theme.spacing(1),\r\n                    minWidth: 120,\r\n                }\r\n            }))\r\n        }\r\n\r\n        this.updatePlaylistSize = this.updatePlaylistSize.bind(this);\r\n        this.updateDifficulty = this.updateDifficulty.bind(this);\r\n        this.updateGuessTime = this.updateGuessTime.bind(this);\r\n        this.updateWaitTime = this.updateWaitTime.bind(this);\r\n        this.handleSwitchChange = this.handleSwitchChange.bind(this);\r\n        this.updateSeed = this.updateSeed.bind(this);\r\n    }\r\n\r\n    valuetext(value) {\r\n        return `${value}`;\r\n    }\r\n\r\n    updatePlaylistSize(event) {\r\n        const newPlaylistSize = parseInt(event.target.value)\r\n\r\n        if (!newPlaylistSize) {\r\n            window.localStorage.setItem('playlist_size', '0');\r\n        }\r\n        this.setState({\r\n            playlistSize: newPlaylistSize\r\n        })\r\n        window.localStorage.setItem('playlist_size', !newPlaylistSize ? '0' : newPlaylistSize.toString())\r\n    }\r\n\r\n    updateDifficulty(difficulty) {\r\n        const difficulties = this.state.difficulty;\r\n\r\n        difficulties[difficulty] = !difficulties[difficulty];\r\n\r\n        window.localStorage.setItem('difficulty', JSON.stringify(difficulties));\r\n\r\n        this.setState({\r\n            difficulty: difficulties\r\n        });\r\n    }\r\n\r\n    updateSeed(event) {\r\n        const newSeed = parseInt(event.target.value)\r\n\r\n        if (!newSeed) {\r\n            window.localStorage.setItem('seed', '0')\r\n        }\r\n        this.setState({\r\n            seed: newSeed\r\n        })\r\n        window.localStorage.setItem('seed', !newSeed ? '0' : newSeed)\r\n    }\r\n\r\n    updateGuessTime(event) {\r\n        const actualGuessTime = this.state.guessTime\r\n        const newGuessTime = parseInt(event.target.innerText)\r\n\r\n        if (newGuessTime && actualGuessTime !== newGuessTime) {\r\n            this.setState({\r\n                guessTime: newGuessTime\r\n            })\r\n            window.localStorage.setItem('guess_time', newGuessTime.toString());\r\n        }\r\n    }\r\n\r\n    updateWaitTime(event) {\r\n        const actualWaitTime = this.state.waitTime\r\n        const newWaitTime = parseInt(event.target.innerText)\r\n\r\n\r\n        if (newWaitTime && actualWaitTime !== newWaitTime) {\r\n            this.setState({\r\n                waitTime: newWaitTime\r\n            })\r\n            window.localStorage.setItem('wait_time', newWaitTime.toString());\r\n        }\r\n    }\r\n\r\n    handleSwitchChange(event) {\r\n        window.localStorage.setItem('allow_same_licence', event.target.checked.toString())\r\n        this.setState({\r\n            allowSameLicence: event.target.checked\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Typography variant=\"h6\" align='center' style={{ color: 'white' }}>\r\n                    Customize Blindtest\r\n                </Typography>\r\n                <Box align='center'>\r\n                    <FormControl component=\"fieldset\" style={{ marginTop: '5%' }}>\r\n                        <FormGroup>\r\n                            <FormLabel component=\"legend\" style={{ color: '#DCDDDC' }}>\r\n                                Size of Playlist\r\n                            </FormLabel>\r\n                            <TextField\r\n                                type=\"number\"\r\n                                inputProps={{min: 0, style: { textAlign: 'center', color: 'white' }}}\r\n                                value={this.state.playlistSize}\r\n                                onChange={this.updatePlaylistSize}\r\n                                name=\"numberformat\"\r\n                                id=\"formatted-numberformat-input\"\r\n\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup row>\r\n                            <FormLabel component=\"legend\" style={{ marginBottom: '40px', marginRight: '40px', marginTop: '40px', color: '#DCDDDC' }}>\r\n                                Difficulty:\r\n                            </FormLabel>\r\n                            <FormControlLabel style={{ color: 'white' }}\r\n                                control={<Checkbox style={{ color: '#0CB804' }} checked={this.state.difficulty.easy} onClick={() => this.updateDifficulty('easy')} name=\"easy\" />}\r\n                                label=\"Easy\"\r\n                            />\r\n                            <FormControlLabel style={{ color: 'white' }}\r\n                                control={<Checkbox style={{ color: '#0CB804' }} checked={this.state.difficulty.medium} onClick={() => this.updateDifficulty('medium')} name=\"medium\" />}\r\n                                label=\"Medium\"\r\n                            />\r\n                            <FormControlLabel style={{ color: 'white' }}\r\n                                control={<Checkbox style={{ color: '#0CB804' }} checked={this.state.difficulty.hard} onClick={()=> this.updateDifficulty('hard')} name=\"hard\" />}\r\n                                label=\"Hard\"\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <FormLabel component=\"legend\" style={{ marginBottom: '40px', color: '#DCDDDC' }}>\r\n                                Guess Time\r\n                            </FormLabel>\r\n                            <CustomSlider\r\n                                defaultValue={this.defaultGuessTime}\r\n                                onChange={this.updateGuessTime}\r\n                                getAriaValueText={this.valuetext}\r\n                                aria-labelledby=\"discrete-slider\"\r\n                                valueLabelDisplay=\"on\"\r\n                                step={1}\r\n                                marks\r\n                                min={5}\r\n                                max={20}\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <FormLabel component=\"legend\" style={{ marginBottom: '40px', marginTop: '40px', color: '#DCDDDC' }}>\r\n                                Time before next Guess\r\n                            </FormLabel>\r\n                            <CustomSlider\r\n                                defaultValue={this.defaultWaitTime}\r\n                                onChange={this.updateWaitTime}\r\n                                getAriaValueText={this.valuetext}\r\n                                aria-labelledby=\"discrete-slider\"\r\n                                valueLabelDisplay=\"on\"\r\n                                step={1}\r\n                                marks\r\n                                min={1}\r\n                                max={10}\r\n                            />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <FormLabel component=\"legend\" style={{ marginTop: '40px', color: '#DCDDDC' }}>Allow multiple selection per Licence</FormLabel>\r\n                            <Box align='center'>\r\n                                <GreenSwitch checked={this.state.allowSameLicence} onChange={this.handleSwitchChange} name=\"allow-same_licence\"/>\r\n                            </Box>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Typography align='center' style={{ marginTop: '40px', color: '#DCDDDC' }}>\r\n                                Seed\r\n                            </Typography>\r\n                            <TextField\r\n                                type=\"number\"\r\n                                inputProps={{style: { textAlign: 'center', color: 'white' }}}\r\n                                value={this.state.seed}\r\n                                onChange={this.updateSeed}\r\n                                name=\"seed\"\r\n                                id=\"formatted-seed-input\"\r\n\r\n                            />\r\n                        </FormGroup>\r\n                    </FormControl>\r\n                </Box>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import {Link, Typography} from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default function Copyright() {\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            bottom: '10px',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)'\r\n        }}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" style={{\r\n                backgroundColor: '#282D35',\r\n                color: 'white'\r\n            }}>\r\n                {'v4.7 - Copyright  '}\r\n                <Link color=\"inherit\" href=\"https://github.com/Emolitt/blindtest-generator\" target='_blank'>\r\n                    Emolitt\r\n                </Link>{' '}\r\n                {new Date().getFullYear()}\r\n                {'.'}\r\n            </Typography>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\r\nimport ThemeSelectorForm from './ThemeSelectorForm';\r\nimport Review from './Review';\r\nimport clsx from \"clsx\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport PropTypes from \"prop-types\";\r\nimport BlindtestCustomizerForm from \"./BlindtestCustomizerForm\";\r\nimport HelpIcon from \"@material-ui/icons/Help\"\r\nimport { v4 } from 'uuid';\r\n\r\nimport {\r\n    CssBaseline,\r\n    AppBar,\r\n    Toolbar,\r\n    Stepper,\r\n    Step,\r\n    StepLabel,\r\n    Button,\r\n    Typography,\r\n    Box,\r\n    StepConnector,\r\n    List,\r\n    ListItem,\r\n    Menu,\r\n    IconButton\r\n} from \"@material-ui/core\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport Copyright from \"../Copyright\";\r\n\r\n//Progress Bar\r\nconst QontoConnector = withStyles({\r\n    alternativeLabel: {\r\n        top: 10,\r\n        left: 'calc(-50% + 16px)',\r\n        right: 'calc(50% + 16px)',\r\n    },\r\n    active: {\r\n        '& $line': {\r\n            borderColor: '#0FDC06',\r\n        },\r\n    },\r\n    completed: {\r\n        '& $line': {\r\n            borderColor: '#0FDC06',\r\n        },\r\n    },\r\n    line: {\r\n        borderColor: '#eaeaf0',\r\n        borderTopWidth: 3,\r\n        borderRadius: 1,\r\n    },\r\n})(StepConnector);\r\n\r\nconst useQontoStepIconStyles = makeStyles({\r\n    root: {\r\n        color: '#eaeaf0',\r\n        display: 'flex',\r\n        height: 22,\r\n        alignItems: 'center',\r\n    },\r\n    active: {\r\n        color: '#0FDC06',\r\n    },\r\n    circle: {\r\n        width: 8,\r\n        height: 8,\r\n        borderRadius: '50%',\r\n        backgroundColor: 'currentColor',\r\n    },\r\n    completed: {\r\n        color: '#0FDC06',\r\n        zIndex: 1,\r\n        fontSize: 18,\r\n    },\r\n});\r\n\r\n\r\nfunction QontoStepIcon(props) {\r\n    const classes = useQontoStepIconStyles();\r\n    const { active, completed } = props;\r\n\r\n    return (\r\n        <div\r\n            className={clsx(classes.root, {\r\n                [classes.active]: active\r\n            })}\r\n        >\r\n            {completed ? <Check className={classes.completed} /> : <div className={classes.circle} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nQontoStepIcon.propTypes = {\r\n    /**\r\n     * Whether this step is active.\r\n     */\r\n    active: PropTypes.bool,\r\n    /**\r\n     * Mark the step as completed. Is passed to child components.\r\n     */\r\n    completed: PropTypes.bool,\r\n};\r\n\r\nconst steps = ['Select theme', 'Select Parameters', 'Validate'];\r\n\r\nexport default class Checkout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeStep: 0,\r\n            anchorEl: null,\r\n            openedHelp: false\r\n        }\r\n\r\n        this.setActiveStep = this.setActiveStep.bind(this);\r\n        this.setAnchorEl = this.setAnchorEl.bind(this);\r\n        this.handleMenu = this.handleMenu.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleBack = this.handleBack.bind(this);\r\n        this.handleNext = this.handleNext.bind(this);\r\n        this.startBlindtest = this.startBlindtest.bind(this);\r\n        this.navigateToMenu = this.navigateToMenu.bind(this);\r\n\r\n        window.localStorage.setItem('session_id', '');\r\n\r\n    }\r\n\r\n    getStepContent() {\r\n        const step = this.state.activeStep\r\n        switch (step) {\r\n            case 0:\r\n                return <ThemeSelectorForm />;\r\n            case 1:\r\n                return <BlindtestCustomizerForm />;\r\n            case 2:\r\n                return <Review />;\r\n            default:\r\n                throw new Error('Unknown step');\r\n        }\r\n    }\r\n\r\n    startBlindtest() {\r\n        window.localStorage.setItem('session_id', v4());\r\n        this.props.history.push('/blindtest');\r\n    }\r\n\r\n    setActiveStep(step) {\r\n        this.setState({\r\n            activeStep: step\r\n        })\r\n    }\r\n\r\n    setAnchorEl(anchor) {\r\n        this.setState({\r\n            anchorEl: anchor,\r\n            openedHelp: Boolean(anchor)\r\n        })\r\n    }\r\n\r\n    handleNext() {\r\n        this.setActiveStep(this.state.activeStep + 1);\r\n    };\r\n\r\n    handleBack() {\r\n        this.setActiveStep(this.state.activeStep - 1);\r\n    };\r\n\r\n    handleMenu(event) {\r\n        this.setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    handleClose() {\r\n        this.setAnchorEl(null);\r\n    };\r\n\r\n    navigateToMenu() {\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ overflow: 'hidden' }}>\r\n                <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n                <React.Fragment>\r\n                    <CssBaseline />\r\n                    <AppBar position=\"absolute\" style={{backgroundColor : '#282D35', flex: 1}}>\r\n                        <Toolbar>\r\n                            <Button onClick={this.navigateToMenu} style={{color: '#ffffff'}}>\r\n                                <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                                    Blindtest Generator\r\n                                </Typography>\r\n                            </Button>\r\n                            <div style={{ marginLeft: 'auto' }}>\r\n                                <IconButton\r\n                                    edge=\"end\"\r\n                                    aria-label=\"account of current user\"\r\n                                    aria-controls=\"menu-appbar\"\r\n                                    aria-haspopup=\"true\"\r\n                                    onClick={this.handleMenu}\r\n                                    color=\"inherit\"\r\n                                >\r\n                                    <HelpIcon />\r\n                                </IconButton>\r\n                                <Menu\r\n                                    id=\"menu-appbar\"\r\n                                    anchorEl={this.state.anchorEl}\r\n                                    anchorOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    keepMounted\r\n                                    transformOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    open={this.state.openedHelp}\r\n                                    onClose={this.handleClose}\r\n                                >\r\n                                    <Typography variant=\"h6\" align=\"center\">\r\n                                        Input List\r\n                                    </Typography>\r\n                                    <div>\r\n                                        <List>\r\n                                            <ListItem>\r\n                                                <strong>Arrow Up</strong>: Volume Up (Max 100)\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>Arrow Down</strong>: Volume Down (Min 0)\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>Arrow Left</strong>: Restart Current Element\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>Arrow Right</strong>: Skip Element\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>Space</strong>: Toggle Pause/Play\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>Escape</strong>: Go Back to Menu\r\n                                            </ListItem>\r\n                                            <ListItem>\r\n                                                <strong>F11</strong>: Toggle Fullscreen\r\n                                            </ListItem>\r\n                                        </List>\r\n                                    </div>\r\n                                </Menu>\r\n                            </div>\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <Box>\r\n                        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n                            Configure\r\n                        </Typography>\r\n                        <Stepper style={{backgroundColor : '#282D35'}} alternativeLabel activeStep={this.state.activeStep} connector={<QontoConnector />}>\r\n                            {steps.map((label) => (\r\n                                <Step key={label}>\r\n                                    <StepLabel StepIconComponent={QontoStepIcon}>{label}</StepLabel>\r\n                                </Step>\r\n                            ))}\r\n                        </Stepper>\r\n                    </Box>\r\n                    <Box>\r\n                        <React.Fragment>\r\n                            {this.getStepContent()}\r\n                        </React.Fragment>\r\n                    </Box>\r\n                    <div style={{\r\n                        position: 'fixed',\r\n                        bottom: '77px',\r\n                        right: '20px'\r\n                    }}>\r\n                        {this.state.activeStep !== 0 && (\r\n                            <Button onClick={this.handleBack} style={{color : '#0FDC06'}}>\r\n                                Back\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            style={{backgroundColor : '#0FDC06'}}\r\n                            onClick={this.state.activeStep === steps.length - 1 ? this.startBlindtest : this.handleNext}\r\n                        >\r\n                            {this.state.activeStep === steps.length - 1 ? 'Start' : 'Next'}\r\n                        </Button>\r\n                    </div>\r\n                    <Copyright />\r\n                </React.Fragment>\r\n            </div>\r\n        );\r\n    }\r\n}","import firebase from \"firebase\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCc6i9P3LgnWccwerba9czccMpSLk_nUIY\",\r\n    authDomain: \"blindtest-generator-v4.firebaseapp.com\",\r\n    projectId: \"blindtest-generator-v4\",\r\n    storageBucket: \"blindtest-generator-v4.appspot.com\",\r\n    messagingSenderId: \"557555686086\",\r\n    appId: \"1:557555686086:web:4ff48d30ee9c2d65cad5c7\",\r\n    measurementId: \"G-QVSHBRHZES\"\r\n};\r\n\r\nconst serviceAccount = {\r\n    \"type\": \"service_account\",\r\n    \"project_id\": \"blindtest-generator-v4\",\r\n    \"private_key_id\": \"a6a49f6989386d52c250e30e550592696b452432\",\r\n    \"private_key\": \"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDWYFmYSstkNGTv\\nfy7yi28CAy+QeBpY+U9nLR8HtF/DJIN4Hw8Ut9HlMK1HDp1IXioq6obfHbwPE82b\\nAzbt2WN1vkwAfeISVlcQUHRlc94RpwMMddMPi/A/gf30bKZzPdT9aQPWwB7RiNFc\\ngzNMPwQhZcXK8Q1qj9LCtMDd0TYMEPXthC3tlej5qxXjKGXaFX64qtKQ9pGuwY8q\\nfuXAFuFuqcSoZEOP+eywNh+WJEyi+WwYtfYN7nvF6C0OzX7Nz6Tk0FmzTiiEH5Re\\n7TXomQnc4KYbF2gcas+xGD0SGypmBzh+9m7QTvXyW+rNswUxBNN0tucVHMY60ZP3\\nEE8I35WdAgMBAAECggEAUJiStpXQF9E27W+0d82CI5CNDlSJG1BH0PN+yge/RP9y\\nSfPrWI+vYupFCwTsjuuQEOhxYmqsbEK2twOjYBKtuPOdYUXye5BoVSLaT9Ya9CoF\\nFGcrvZmP7mBx2LYMciEZ9VfI8LD0JTS5+Xz+CTlb1S6NCTpNH/YId9k69WoVVr1N\\ndeJEID1zISLPrpbP3z1pRKhapbtMtlbND6U5XzHRkG6peIStfBgrAO7Lzox9XOJx\\nz95atUu/9Cki68jmhIQP76YoPC6SY6i3Qlj2Lif32FiF103cBeuiYtnEiJv6WeWD\\nK+/fy4fMVhTZLhywRvX5PV4D6CZvvScg9iwuj/bHRQKBgQDvwlByFFquZGwZi0+O\\nUXa6ilI5o2G74hmy2H/Jn9oh6OS4HpEwiw+ogairxxtH1e2hChTCGAuLZmkCft95\\nfmArzgq4Zt/Rgeuhv9a2HWHHfRAdLPHkwwae5/xXzEo6vBEPEVp5QFJKjFYWo2EW\\ngnHCBwHoCLHcXvtiRlO3dlBlAwKBgQDk5d9LPHM/gHTJhXbr5cjfMcSxLXBnMN9k\\nJQE1Xo4C1kJKm0c5dEzDSDUmc4xEPRVy3QFTV470J+tl+8+zEaEnR+Uk7SVisesF\\nXUkX2cf4vKKj4kDIlIueGBT+HIKtytuarMJlDb3k8z3+m+e9/3VRv+uya5jeqZzX\\nBhmF9bqI3wKBgQCkGpMnUikzPkcDQOgmGDo0ueJH0z1c9Qfz8t2cao5KMXcDUuC7\\noiMIih6h3LkedR2d4SGOLBkSw/jSHXbmWIqI0RFjX/6IDu3yGzViF0BK45346j9y\\n/c31TAHbMlgIVZszfgQ4A7+PiPiPrCoS1xv32wYCBJmApX5YqJw6cX/bcwKBgQCd\\niwXEL8gW1eAL79tpA4/c5tE9LUwnCgFHWRza0cimdTfNR9Ce38gRxHooi/Dn6q7/\\njtNhvGr86xje6ZEL679iXN5/KuXHZzOeTpWHX/J95b9/UrNKGst5tZOFTrQ2z9+U\\nNwHZMbsYgL6TplS7db8W1CRyehIOduknKeCZTgbkOwKBgG1xuzCSxFPv4O8EjN9h\\n2j+c9xvuleA5Kghd8S4VrqRarI/SQB4bm0Us2Nd3igp9P7NfiL/5Iz4izX9U+xFh\\nAD9H16X5IAMwk07WTkUGDuSGNeTLViIC1OteamPB/8FQJ31Zl3t039hIOjpV4FR2\\nFrMa6Fs4w2gLQrknKUbgkWm9\\n-----END PRIVATE KEY-----\\n\",\r\n    \"client_email\": \"firebase-adminsdk-yjocx@blindtest-generator-v4.iam.gserviceaccount.com\",\r\n    \"client_id\": \"102934987594693772566\",\r\n    \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\r\n    \"token_uri\": \"https://oauth2.googleapis.com/token\",\r\n    \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\r\n    \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-yjocx%40blindtest-generator-v4.iam.gserviceaccount.com\"\r\n}\r\n// Initialize Firebase\r\n/*firebase.initializeApp({\r\n    credential: firebase.credential.cert(serviceAccount),\r\n    databaseURL: 'https://blindtest-generator-v4-default-rtdb.europe-west1.firebasedatabase.app/'\r\n});*/\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.analytics();\r\n\r\nconst firestore = firebase.firestore()\r\n\r\nexport {firebase, firestore};","export interface JsonMusicUrl {\r\n    name: string;\r\n    link: string;\r\n    start: number;\r\n}\r\n\r\nexport interface JsonMusic {\r\n    title: string;\r\n    url: JsonMusicUrl[]\r\n}\r\n\r\nexport class DtoAsset {\r\n    easy: JsonMusic[];\r\n    medium: JsonMusic[];\r\n    hard: JsonMusic[];\r\n\r\n    constructor() {\r\n    }\r\n\r\n    fromJson(obj) {\r\n        this.easy = obj.easy;\r\n        this.medium = obj.medium;\r\n        this.hard = obj.hard;\r\n    }\r\n\r\n    toJson() {\r\n        return {\r\n            easy: this.easy,\r\n            medium: this.medium,\r\n            hard: this.hard,\r\n        }\r\n    }\r\n\r\n    flatMap() {\r\n        return [];\r\n    }\r\n}","export default class DtoAsset {\r\n    constructor(obj, uid) {\r\n        this.uid = uid\r\n        this.name = obj.name\r\n        this.theme = obj.theme\r\n        this.url = obj.url\r\n    }\r\n}\r\n","import {firestore} from \"./FirebaseConfig\";\r\nimport {DtoAsset} from \"./DtoAsset\";\r\nimport { v4 } from \"uuid\";\r\nimport DtoSuggestion from \"./DtoSuggestion\";\r\nimport { default as axios } from \"axios\";\r\n\r\nconst projectId = '20542294';\r\nconst accessToken = 'Fuz47ZkyM7aJSsQRsiqH';\r\n\r\nexport default class AssetsManager {\r\n\r\n    /*static ThemeList = {\r\n        games: AssetsManager.getAssetsOfCollection('games'),\r\n        animes: AssetsManager.getAssetsOfCollection('animes'),\r\n        films: AssetsManager.getAssetsOfCollection('films'),\r\n        musics: AssetsManager.getAssetsOfCollection('musics')\r\n    }*/\r\n    static ThemeList = {\r\n        games: AssetsManager.getAssetFromGitlab('Game'),\r\n        animes: AssetsManager.getAssetFromGitlab('Anime'),\r\n        films: AssetsManager.getAssetFromGitlab('Film'),\r\n        musics: AssetsManager.getAssetFromGitlab('Musique')\r\n    }\r\n\r\n    static areThemeLoaded() {\r\n       const gamesLoaded = !!this.ThemeList.games.easy && !!this.ThemeList.games.medium && !!this.ThemeList.games.hard\r\n       const animesLoaded = !!this.ThemeList.animes.easy && !!this.ThemeList.animes.medium && !!this.ThemeList.animes.hard\r\n       const musicsLoaded = !!this.ThemeList.musics.easy && !!this.ThemeList.musics.medium && !!this.ThemeList.musics.hard\r\n       const filmsLoaded = !!this.ThemeList.films.easy && !!this.ThemeList.films.medium && !!this.ThemeList.films.hard\r\n\r\n        return gamesLoaded && animesLoaded && musicsLoaded && filmsLoaded\r\n    }\r\n\r\n\r\n    static getAssetFromGitlab(assetName) {\r\n        //const url = `https://gitlab.com/RomainJolidon/blindtest-assets/-/raw/master/assets%20json/${assetName}.json`;\r\n        const url = `https://gitlab.com/api/v4/projects/${projectId}/repository/files/assets%20json%2F${assetName}.json/raw?ref=master`\r\n        let res = new DtoAsset();\r\n\r\n        axios.get(url, {\r\n            headers: {\r\n                \"PRIVATE-TOKEN\": accessToken\r\n            }\r\n        }).then(value => {\r\n            res.fromJson(value.data);\r\n        });\r\n        return res;\r\n    }\r\n\r\n    /** @param {string} collectionName\r\n     *  @return {DtoAsset}\r\n     * **/\r\n    static getAssetsOfCollection(collectionName) {\r\n        const asset = {};\r\n\r\n        console.log(collectionName);\r\n        firestore.collection(collectionName).get().then(doc => {\r\n            console.log(doc);\r\n            doc.docs.forEach(element => {\r\n                element.ref.listCollections().then(subCollection => {\r\n                    console.log(subCollection);\r\n                })\r\n            });\r\n        }).catch(reason => console.error(reason))\r\n        return new DtoAsset(asset);\r\n    }\r\n\r\n    /** @param {DtoAsset} assets\r\n     * @param {string} collectionName\r\n     * **/\r\n    static setAssetsOfCollection(assets, collectionName) {\r\n        assets.easy.forEach(asset => {\r\n            asset.url.forEach(url => {\r\n                firestore.collection(collectionName).doc('easy').collection(asset.title).add(url)\r\n            })\r\n        })\r\n        assets.medium.forEach(asset => {\r\n            asset.url.forEach(url => {\r\n                firestore.collection(collectionName).doc('medium').collection(asset.title).add(url)\r\n            })\r\n        })\r\n        assets.hard.forEach(asset => {\r\n            asset.url.forEach(url => {\r\n                firestore.collection(collectionName).doc('hard').collection(asset.title).add(url)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** @param {string} collection\r\n     * @param {string} assetName\r\n     * @param {string} link\r\n     * **/\r\n    static HandleError(collection, assetName, link) {\r\n        //TODO en cours de dev. trouver comment on peut supprimer un element d'un array\r\n        /*\r\n        const assetRef = firebase.firestore().collection(collection).doc(assetName)\r\n        assetRef.update({\r\n            url: firebase.firestore().FieldValue.delete()\r\n        })*/\r\n    }\r\n\r\n    /** @param {$ObjMap} asset **/\r\n    static suggestNewAsset(asset) {\r\n        const uid = v4()\r\n        firestore.collection('suggestions').doc(uid).set(asset)\r\n    }\r\n\r\n    static getSuggestions() {\r\n        const assetList = [];\r\n\r\n        firestore.collection('suggestions').get().then(doc => {\r\n            doc.docs.forEach(element => {\r\n                assetList.push(new DtoSuggestion(element.data(), element.id))\r\n            })\r\n        })\r\n        return (assetList);\r\n    }\r\n\r\n    /** @param {$ObjMap} suggestion\r\n     * @param {boolean} validate\r\n     *  **/\r\n    static HandleSuggestion(suggestion, validate) {\r\n        //FIXME il ne s'est rien pass\r\n        if (validate) {\r\n            firestore.collection(suggestion.theme).doc(suggestion.name).get().then(doc => {\r\n                const data = new DtoAsset(doc.data());\r\n                data.url = data.url.concat(suggestion.url)\r\n                firestore.collection(suggestion.theme).doc(suggestion.name).set(data.toJson())\r\n            }).catch(err => {\r\n                firestore.collection(suggestion.theme).doc(suggestion.name).set(new DtoAsset(suggestion).toJson())\r\n            })\r\n        }\r\n        firestore.collection('suggestions').doc(suggestion.uid).delete()\r\n    }\r\n}\r\n\r\n","//const fs = require('fs');\r\nimport { Random, MersenneTwister19937 } from 'random-js';\r\n//const path = require('path');\r\nimport AssetsManager from \"../Database/AssetsManager\";\r\n\r\nconst ThemeList = {\r\n    games: AssetsManager.ThemeList.games,\r\n    animes: AssetsManager.ThemeList.animes,\r\n    films: AssetsManager.ThemeList.films,\r\n    musics: AssetsManager.ThemeList.musics,\r\n}\r\n\r\nclass SelectionGenerator {\r\n    random = new Random(MersenneTwister19937.autoSeed());\r\n\r\n    setSeed(seed) {\r\n        this.random = new Random(MersenneTwister19937.seed(seed));\r\n    }\r\n\r\n    FlatMapAssets(assets) {\r\n        //isolate wanted number of selection\r\n        const flatMappedAssets = assets.map(asset => {\r\n            const flatMappedAsset = asset.url.map(url => {\r\n                const fullName = asset.title.concat(url.name ? ` - ${url.name}` : '');\r\n                return ({\r\n                    name: fullName,\r\n                    url:  url.link.split('=')[1],\r\n                    start: url.start\r\n                })\r\n            })\r\n            return (flatMappedAsset)\r\n        })\r\n\r\n        return (this.random.shuffle(flatMappedAssets.flat(1)))\r\n    }\r\n\r\n    EqualizeAllGenreSelection(size, difficulty, reuseAsset) {\r\n        let partSize = size / Object.keys(ThemeList).length;\r\n\r\n        if (partSize <= 0) {\r\n            partSize = 1;\r\n        }\r\n\r\n       return this.GenerateSelectionFromJSON('games', partSize, difficulty,reuseAsset)\r\n            .concat(this.GenerateSelectionFromJSON('animes', partSize, difficulty, reuseAsset))\r\n            .concat(this.GenerateSelectionFromJSON('films', partSize, difficulty, reuseAsset))\r\n            .concat(this.GenerateSelectionFromJSON('musics', partSize, difficulty, reuseAsset));\r\n    }\r\n\r\n    GenerateSelectionFromJSON(theme, size, difficulty, reuseGame) {\r\n        let assets = [];\r\n        if (theme === 'all') {\r\n            return this.random.shuffle(this.EqualizeAllGenreSelection(size, difficulty, reuseGame));\r\n        } else {\r\n            if(!(theme in ThemeList)) {\r\n                return []\r\n            }\r\n            // get Difficulty\r\n            if (difficulty.easy) {\r\n                assets = assets.concat(ThemeList[theme].easy)\r\n            }\r\n            if (difficulty.medium) {\r\n                assets = assets.concat(ThemeList[theme].medium)\r\n            }\r\n            if (difficulty.hard) {\r\n                assets = assets.concat(ThemeList[theme].hard)\r\n            }\r\n            assets = this.random.shuffle(assets);\r\n        }\r\n\r\n        if (reuseGame === true) {\r\n            const flatMappedAssets = this.FlatMapAssets(assets)\r\n\r\n            //isolate wanted number of selection\r\n            return (flatMappedAssets.slice(0, size));\r\n        }\r\n\r\n        //isolate wanted number of selection\r\n        const selectionArray = assets.slice(0, size);\r\n\r\n        //get random info to display for each selection\r\n        const parsedSelectionArray = selectionArray.map(asset => {\r\n            const winnerChoice = this.random.shuffle(asset.url)[0];\r\n            const fullName = asset.title.concat(winnerChoice.name ? ` - ${winnerChoice.name}` : '');\r\n            return ({\r\n                name: fullName,\r\n                url: winnerChoice.link.split('=')[1],\r\n                start: winnerChoice.start\r\n            })\r\n        })\r\n\r\n        return(parsedSelectionArray);\r\n    }\r\n\r\n}\r\n\r\nconst selectionGenerator = new SelectionGenerator();\r\n\r\nexport {\r\n    selectionGenerator\r\n};\r\n\r\n/*function getDirectories(source) {\r\n    const dirs = fs.readdir(source, { withFileTypes: true }, err => {console.log('error: ' + err)})\r\n\r\n    if (dirs === undefined) {\r\n        console.log(\"failed to read directory: \" + source);\r\n        return undefined;\r\n    }\r\n    return (dirs.filter(dirent => dirent.isDirectory())\r\n        .map(dirent => dirent.name));\r\n}*/\r\n\r\n/*const getAbsolutePath = source => path.resolve(source);\r\n\r\nconst getDirectories = source =>\r\n    fs.readdirSync(source, { withFileTypes: true })\r\n        .filter(dirent => dirent.isDirectory())\r\n        .map(dirent => dirent.name);\r\n\r\nconst getFiles = source =>\r\n    fs.readdirSync(source, { withFileTypes: true })\r\n        .filter(dirent => dirent.isFile())\r\n        .map(dirent => dirent.name);*/\r\n\r\n/*function GenerateSelection(assetsPath, size) {\r\n    const absPath = getAbsolutePath(assetsPath);\r\n    console.log(absPath)\r\n    //getting shuffled list of assets in specified dir\r\n    const assets = random.shuffle(getDirectories(absPath));\r\n    let selectionArray = [];\r\n    let parsedSelectionArray = [];\r\n\r\n    //console.log(assets);\r\n\r\n    //isolate wanted number of selection\r\n    for (let i = 0; i < size; i++) {\r\n        if (i >= assets.length) {\r\n            break;\r\n        }\r\n        selectionArray.push(assets[i]);\r\n    }\r\n\r\n    //get random info to display for each selection\r\n    selectionArray.forEach(asset => {\r\n        const music = (absPath + '/' + asset + '/musics/' + random.shuffle(getFiles(absPath + '/' + asset + '/musics'))[0]).replace(/\\\\/g, '/');\r\n        const background = (absPath + '/' + asset + '/backgrounds/' + random.shuffle(getFiles(absPath + '/' + asset + '/backgrounds'))[0]).replace(/\\\\/g, '/');\r\n        parsedSelectionArray.push({\r\n            music: music,\r\n            image: background,\r\n        });\r\n    });\r\n\r\n    return (parsedSelectionArray);\r\n}*/\r\n\r\n/*export const checkAssetsDirectory = (path) => {\r\n    console.log(path);\r\n    const assets = getDirectories(path);\r\n\r\n    for (let i = 0; i < assets.length; i++) {\r\n        const dirs = getDirectories(path + '/' + assets[i]);\r\n        if (dirs.length === 2) {\r\n            if (dirs[0] !== 'backgrounds' || dirs[1] !== 'musics') {\r\n                return assets[i];\r\n            } else {\r\n                const filesBG = getFiles(path + '/' + assets[i] + '/backgrounds');\r\n                const filesMusics = getFiles(path + '/' + assets[i] + '/musics');\r\n\r\n                if (filesBG.length <= 0 || filesMusics <= 0) {\r\n                    return assets[i];\r\n                }\r\n            }\r\n        } else {\r\n            return assets[i];\r\n        }\r\n    }\r\n    return undefined;\r\n}*/\r\n\r\nexport const FlatMapAssets = (assets) => {\r\n    //isolate wanted number of selection\r\n    const flatMappedAssets = assets.map(asset => {\r\n        const flatMappedAsset = asset.url.map(url => {\r\n            const fullName = asset.name.concat(url.name ? ` - ${url.name}` : '');\r\n            return ({\r\n                name: fullName,\r\n                id:  url.link.split('=')[1],\r\n                start: url.start\r\n            })\r\n        })\r\n        return (flatMappedAsset)\r\n    })\r\n\r\n    return (flatMappedAssets.flat(1))\r\n}\r\n\r\n","\r\nfunction HandleVolumeUp(player) {\r\n    const volume = player.getVolume()\r\n\r\n    player.setVolume(volume + 10)\r\n}\r\n\r\nfunction HandleVolumeDown(player) {\r\n    const volume = player.getVolume()\r\n\r\n    player.setVolume(volume - 10)\r\n}\r\n\r\nfunction HandlePause(player) {\r\n    const status = player.getPlayerState()\r\n\r\n    if (status === 1) {\r\n        player.pauseVideo()\r\n    } else if (status === 2) {\r\n        player.playVideo()\r\n    }\r\n}\r\n\r\nconst KeyboardEvents = {\r\n    HandleVolumeDown: HandleVolumeDown,\r\n    HandleVolumeUp: HandleVolumeUp,\r\n    HandlePause: HandlePause\r\n}\r\n\r\nexport default KeyboardEvents;\r\n","import React from \"react\";\r\nimport {selectionGenerator} from '../Generator/SelectionGenerator'\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport KeyboardEvents from './KeyboardEvent';\r\nimport YouTube from \"react-youtube\";\r\n\r\nconst Status = {\r\n    None: -1,\r\n    Play: 1,\r\n    Pause: 2,\r\n    Restart: 3,\r\n    Pass: 4\r\n}\r\n\r\nexport default class BlindtestGenerator extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const sessionId = window.localStorage.getItem('session_id');\r\n        const seed = window.localStorage.getItem('seed');\r\n\r\n        //Playlist Configuration\r\n        const playlistSize = window.localStorage.getItem('playlist_size')\r\n        const difficulty = JSON.parse(window.localStorage.getItem('difficulty'))\r\n        const allowSameLicence = (window.localStorage.getItem('allow_same_licence') === 'true')\r\n        const theme = window.localStorage.getItem('theme')\r\n\r\n        //Session Configuration\r\n        this.guessTime = parseInt(window.localStorage.getItem('guess_time'))\r\n        this.waitTime = parseInt(window.localStorage.getItem('wait_time'))\r\n\r\n        selectionGenerator.setSeed(seed)\r\n        this.playlist = selectionGenerator.GenerateSelectionFromJSON(theme, playlistSize, difficulty, allowSameLicence)\r\n\r\n        this.state = {\r\n            display: false,\r\n            status: Status.None,\r\n            counter: this.guessTime,\r\n            player: undefined,\r\n            playerObj: null,\r\n            playlistIndex: 0,\r\n            currMusic: null,\r\n            loaded: false,\r\n            error: false,\r\n            stop: false\r\n        }\r\n\r\n        this.nextGuess = this.nextGuess.bind(this)\r\n        this.updatePlayer = this.updatePlayer.bind(this)\r\n        this._onError = this._onError.bind(this)\r\n        this._onPlay = this._onPlay.bind(this)\r\n        this._onReady = this._onReady.bind(this)\r\n        this.startGuessTime = this.startGuessTime.bind(this)\r\n        this.startAnswerTime = this.startAnswerTime.bind(this)\r\n        this.handleKeyDown = this.handleKeyDown.bind(this)\r\n        //this._onStateChange = this._onStateChange.bind(this)\r\n\r\n        if (!sessionId) {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n\r\n    //---------------------------------------------------------Iframe Handler\r\n    _onReady = (event) => {\r\n        // access to player in all event handlers via event.target\r\n        event.target.playVideo();\r\n        this.setState({\r\n            playerObj: event.target\r\n        })\r\n        console.log(\"ready to play video\")\r\n    }\r\n\r\n    _onPlay = (event) => {\r\n        // access to player in all event handlers via event.target\r\n        //event.target.pauseVideo();\r\n        console.log(\"video started\")\r\n        this.setState({\r\n            loaded: true,\r\n            playlistIndex: this.state.playlistIndex + 1\r\n        });\r\n    }\r\n\r\n    _onEnd = (event) => {\r\n        // access to player in all event handlers via event.target\r\n        event.target.stopVideo();\r\n        console.log(\"stop video\");\r\n        //this.nextGuess(true)\r\n    }\r\n\r\n    _onError = (event) => {\r\n        // access to player in all event handlers via event.target\r\n        alert(`[${this.state.currMusic.name}]: Failed to load video with id: ${this.state.currMusic.url}`)\r\n        this.setState({\r\n            error: true\r\n        })\r\n        //this.nextGuess(true)\r\n    }\r\n\r\n    _onStateChange = (event) => {\r\n        //Can do something with all states here\r\n        console.log(\"state changed: \" + event.data)\r\n        const code = event.data;\r\n        switch (code) {\r\n            case -1:\r\n                break\r\n            case 1:\r\n                break\r\n            case 2:\r\n                break\r\n            case 5:\r\n                break\r\n            default:\r\n                break\r\n        }\r\n        /*\r\n        -1 (unstarted)\r\n        0 (ended)\r\n        1 (playing)\r\n        2 (paused)\r\n        3 (buffering)\r\n        5 (video cued).\r\n         */\r\n    }\r\n\r\n    //---------------------------------------------------------Player Config\r\n    updatePlayer = (shift) => {\r\n        let timeoutCounter = 10;\r\n        this.setState({\r\n            loaded: false,\r\n            error: false\r\n        });\r\n        return new Promise((resolve, reject) => {\r\n            if (this.playlist.length === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n\r\n            const music = shift === true ? this.playlist.shift() : this.playlist[0];\r\n\r\n            //console.log(\"Loading music: \" + music.name);\r\n            const opt = {\r\n                height: window.screen.height - 5,\r\n                width: window.screen.width,\r\n                playerVars: {\r\n                    // https://developers.google.com/youtube/player_parameters\r\n                    autoplay: 1,\r\n                    start: music.start,\r\n                    end: music.start + this.guessTime + this.answerTime,\r\n                    fs: 0,\r\n                    origin: window.location,\r\n                }\r\n            }\r\n            console.log(\"init Player\");\r\n            this.setState({\r\n                currMusic: music,\r\n                player: <YouTube videoId={music.url}\r\n                                opts={opt}\r\n                                onReady={this._onReady}\r\n                                onPlay={this._onPlay}\r\n                                onEnd={this._onEnd}\r\n                                onError={this._onError}\r\n                                onStateChange={this._onStateChange}\r\n                />\r\n            });\r\n\r\n            const timer = setInterval(() => {\r\n                timeoutCounter--;\r\n                if (this.state.loaded === true) {\r\n                    clearInterval(timer);\r\n                    resolve();\r\n                } else if (timeoutCounter <= 0 || this.state.error === true) {\r\n                    console.log(\"Failed to load music\");\r\n                    clearInterval(timer);\r\n                    reject();\r\n                }\r\n            }, 1000);\r\n        })\r\n    }\r\n\r\n    nextGuess(shift) {\r\n        const sessionId = window.localStorage.getItem('session_id');\r\n        if (!sessionId) {\r\n            return ;\r\n        }\r\n        console.log(\"Starting new guess\");\r\n        this.updatePlayer(shift).then(() => {\r\n            this.setState({\r\n                status: Status.Play,\r\n                counter: this.guessTime\r\n            })\r\n            this.startGuessTime();\r\n        }).catch(() => {\r\n            console.log(\"erreur du chargement de la music\");\r\n            if (this.playlist.length === 0) {\r\n                this.props.history.push('/')\r\n            } else {\r\n                this.nextGuess(shift);\r\n            }\r\n        })\r\n    }\r\n\r\n    //---------------------------------------------------------Player Status\r\n    doneAction = (timer, nextGuess) => {\r\n        clearInterval(timer)\r\n        this.setState({\r\n            status: Status.None,\r\n            display: false,\r\n            counter: this.guessTime\r\n        })\r\n        this.nextGuess(nextGuess)\r\n    }\r\n\r\n    checkStatus = (timer) => {\r\n        switch (this.state.status) {\r\n            case Status.Pause:\r\n                return true\r\n            case Status.Restart:\r\n                this.doneAction(timer,false)\r\n                return true\r\n            case Status.Pass:\r\n                this.doneAction(timer,true)\r\n                return\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //---------------------------------------------------------Timers\r\n    startAnswerTime() {\r\n        const timer = setInterval(() => {\r\n            //check status\r\n            if (this.checkStatus(timer)) {\r\n                return;\r\n            }\r\n            const counter = this.state.counter\r\n            if (counter === 0) {\r\n                this.doneAction(timer,true)\r\n            } else {\r\n                this.setState({\r\n                    counter: counter - 1\r\n                })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    startGuessTime() {\r\n        const timer = setInterval(() => {\r\n            //check status\r\n            if (this.checkStatus(timer)) {\r\n                return;\r\n            }\r\n            const counter = this.state.counter\r\n            if (counter === 1) {\r\n                clearInterval(timer)\r\n                this.setState({\r\n                    display: true,\r\n                    counter: this.waitTime\r\n                })\r\n                this.startAnswerTime()\r\n            } else {\r\n                this.setState({\r\n                    counter: counter - 1\r\n                })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    //---------------------------------------------------------User Inputs\r\n    handleKeyDown(key, event) {\r\n        if (this.state.player === null) {\r\n            return\r\n        }\r\n        console.log(\"receiving key: \" + key)\r\n        switch (key) {\r\n            case 'up':\r\n                KeyboardEvents.HandleVolumeUp(this.state.playerObj)\r\n                break\r\n            case 'down':\r\n                KeyboardEvents.HandleVolumeDown(this.state.playerObj)\r\n                break\r\n            case 'left':\r\n                this.setState({\r\n                    status: Status.Restart\r\n                })\r\n                break\r\n            case 'right':\r\n                this.setState({\r\n                    status: Status.Pass\r\n                })\r\n                break\r\n            case 'space':\r\n                this.setState({\r\n                    status: this.state.status === Status.Pause ? Status.Play : Status.Pause\r\n                })\r\n                //fix player non reconnu\r\n                KeyboardEvents.HandlePause(this.state.playerObj)\r\n                break\r\n            case 'esc':\r\n                //TODO arreter le chargement des autres musiques\r\n                this.props.history.push('/')\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //---------------------------------------------------------Renderer\r\n    componentWillMount() {\r\n        this.nextGuess(true);\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Helmet bodyAttributes={{style: 'background-color : #242629'}}/>\r\n            {!this.state.display &&\r\n            <div style={{\r\n                position: 'absolute', left: '50%', top: '50%',\r\n                transform: 'translate(-50%, -50%)',\r\n                fontSize: '200px',\r\n                color: '#BFC6D0',\r\n                fontWeight: 'bold'\r\n            }}>\r\n                {this.state.counter}\r\n            </div>\r\n            }\r\n            <div style={{ display: this.state.display ? '' : 'none', position: 'relative' }}>\r\n                <div style={{ position: 'absolute'}}>\r\n                    {this.state.player}\r\n                </div>\r\n                {this.state.currMusic != null && <div style={{ position: 'absolute', 'z-index': 1, margin: '10px', color: '#ffffff', fontWeight: 'bold', fontSize: '50px', 'text-transform': 'capitalize' }}>\r\n                    {this.state.currMusic.name}\r\n                </div>}\r\n            </div>\r\n            <div style={{ display: 'none' }}>\r\n                <KeyboardEventHandler\r\n                    handleKeys={['up', 'down', 'left', 'right', 'space', 'esc']}\r\n                    onKeyEvent={this.handleKeyDown} />\r\n            </div>\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    Button\r\n} from \"@material-ui/core\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport Copyright from \"../Copyright\";\r\n\r\nconst containerController = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n}\r\n\r\nconst buttonStyle = (customColor) => {\r\n    return {backgroundColor : customColor,\r\n        marginTop: '8%',\r\n        width: '40%',\r\n        height: '50px'\r\n    }\r\n}\r\n\r\nexport default class HomePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.navigateToCheckout = this.navigateToCheckout.bind(this)\r\n        this.navigateToAssets = this.navigateToAssets.bind(this)\r\n        this.navigateToContributors = this.navigateToContributors.bind(this)\r\n    }\r\n\r\n    navigateToCheckout() {\r\n        this.props.history.push('/checkout');\r\n    }\r\n\r\n    navigateToAssets() {\r\n        this.props.history.push('/assets');\r\n    }\r\n\r\n    navigateToContributors() {\r\n        this.props.history.push('/contributors');\r\n    }\r\n\r\n    render() {\r\n        return <div style={{ overflow: 'hidden' }}>\r\n            <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n            <div style={containerController}>\r\n                <p style={{color: 'white'}}>Update: Difficulty added ! You can now play this Blindtest even if oyu are a beginner !</p>\r\n                <Button variant=\"contained\" style={buttonStyle('#0FDC06')} onClick={this.navigateToCheckout}>\r\n                    Generate Blindtest\r\n                </Button>\r\n                <Button variant=\"contained\" style={buttonStyle('#4c54dd')} onClick={this.navigateToAssets}>\r\n                    See Assets Library\r\n                </Button>\r\n                <Button variant=\"contained\" style={buttonStyle('#b53ad6')} onClick={this.navigateToContributors}>\r\n                    See contributors\r\n                </Button>\r\n            </div>\r\n            <Copyright />\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    Button,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport Copyright from \"../Copyright\";\r\n\r\nconst containerController = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    color: 'white'\r\n}\r\n\r\nconst buttonStyle = (customColor) => {\r\n    return {\r\n        backgroundColor : customColor,\r\n        marginTop: '1%',\r\n        marginLeft: '1%',\r\n        width: '10%',\r\n        height: '40px'\r\n    }\r\n}\r\n\r\nexport default class ContributorsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.navigateToMenu = this.navigateToMenu.bind(this)\r\n    }\r\n\r\n    navigateToMenu() {\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        return <div style={{ overflow: 'hidden' }}>\r\n            <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n            <Button variant=\"contained\" style={buttonStyle('#4c54dd')} onClick={this.navigateToMenu}>\r\n                Menu\r\n            </Button>\r\n            <div style={containerController}>\r\n                <Typography color='inherit'>Work In Progress..</Typography>\r\n            </div>\r\n            <Copyright />\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    List,\r\n    ListItem,\r\n    ListItemText, Button\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport {Helmet} from \"react-helmet\";\r\nimport Copyright from \"../Copyright\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AssetsManager from \"../Database/AssetsManager\";\r\n\r\nfunction renderRow(props) {\r\n    const { index, style } = props;\r\n\r\n    return (\r\n        <ListItem style={style} key={index}>\r\n            <ListItemText primary={`Item ${index + 1}`} />\r\n        </ListItem>\r\n    );\r\n}\r\n\r\nrenderRow.propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    style: PropTypes.object.isRequired,\r\n};\r\n\r\nconst classes = {\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 300,\r\n        backgroundColor: '#d01a1a',\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        maxHeight: 300,\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}\r\n\r\nconst buttonStyle = (customColor) => {\r\n    return {\r\n        backgroundColor : customColor,\r\n        marginTop: '1%',\r\n        marginLeft: '1%',\r\n        width: '10%',\r\n        height: '40px'\r\n    }\r\n}\r\n\r\n\r\nexport default class AssetsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            'selection-games': {},\r\n            'selection-animes': {},\r\n            'selection-films': {}\r\n        }\r\n\r\n        this.onListSearchUpdate = this.onListSearchUpdate.bind(this)\r\n        this.navigateToMenu = this.navigateToMenu.bind(this)\r\n        this.navigateToSuggest = this.navigateToSuggest.bind(this)\r\n    }\r\n\r\n    redirectToUrl(event, url) {\r\n        const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\r\n        if (newWindow) {\r\n            newWindow.opener = null\r\n        }\r\n    }\r\n\r\n    onListSearchUpdate(event, value) {\r\n        const stateObject = function () {\r\n            const returnObj = {};\r\n            const key = event.target.id.split('-')[2]\r\n            if (!key) {\r\n                returnObj['selection-games'] = {};\r\n                returnObj['selection-animes'] = {};\r\n                returnObj['selection-films'] = {};\r\n            } else {\r\n                const associatedKey = `selection-${key}`.toLowerCase()\r\n                returnObj[associatedKey] = value !== null ? value : {};\r\n            }\r\n            return returnObj;\r\n        }();\r\n\r\n        this.setState(stateObject)\r\n    }\r\n\r\n    renderAssetList(asset, name) {\r\n        /*return <div>\r\n            <FixedSizeList height={400} width={300} itemSize={46} itemCount={length}>\r\n                {renderRow}\r\n            </FixedSizeList>\r\n        </div>*/\r\n        const associatedKey = `selection-${name}`.toLowerCase()\r\n\r\n        if (!this.state[associatedKey] || !this.state[associatedKey].url) {\r\n            return <div/>\r\n        }\r\n        return <div style={classes.root}>\r\n            <List style={{backgroundColor: '#ffffff', color: '#000000'}} subheader={<li />}>\r\n                {this.state[associatedKey].url.map((element) => (\r\n                    <li key={element.link} style={classes.listSection}>\r\n                        <ul style={classes.ul}>\r\n                            <ListItem button onClick={event => this.redirectToUrl(event, element.link)} key={`item-${element.link}`}>\r\n                                <ListItemText primary={element.link} />\r\n                            </ListItem>\r\n                        </ul>\r\n                    </li>\r\n                ))}\r\n            </List>\r\n        </div>\r\n    }\r\n\r\n    renderAssetSearch(asset, name) {\r\n        const associatedValue = `selection-${name}`\r\n        return <div style={{\r\n            backgroundColor: '#ffffff',\r\n            display: 'inline-block',\r\n            'verticalAlign': 'middle'}}>\r\n            <Autocomplete color='inherit'\r\n                          onChange={this.onListSearchUpdate}\r\n                          id={`combo-box-${name}`}\r\n                          options={asset}\r\n                          getOptionLabel={(option) => option.title}\r\n                          style={{ width: 300 }}\r\n                          renderInput={(params) => <TextField {...params} value={this.state[associatedValue]} label={name} variant=\"outlined\" />}\r\n            />\r\n            {this.renderAssetList(asset, name)}\r\n        </div>\r\n    }\r\n\r\n    navigateToMenu() {\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    navigateToSuggest() {\r\n        AssetsManager.setAssetsOfCollection(require('../Assets/musique.json'), 'musics')\r\n        AssetsManager.setAssetsOfCollection(require('../Assets/game.json'), 'games')\r\n        AssetsManager.setAssetsOfCollection(require('../Assets/anime.json'), 'animes')\r\n        //this.props.history.push('/assets/suggest')\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n            <Button variant=\"contained\" style={buttonStyle('#4c54dd')} onClick={this.navigateToMenu}>\r\n                Menu\r\n            </Button>\r\n            <div style={{\r\n                width: '50%',\r\n                height: '50%',\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: '50%',\r\n                transform: 'translate(-50%, -50%)'\r\n            }}>\r\n                {this.renderAssetSearch(AssetsManager.ThemeList.games.flatMap(), 'Games')}\r\n                {this.renderAssetSearch(AssetsManager.ThemeList.animes.flatMap(), 'Animes')}\r\n                {this.renderAssetSearch(AssetsManager.ThemeList.films.flatMap(), 'Films')}\r\n                {this.renderAssetSearch(AssetsManager.ThemeList.musics.flatMap(), 'Musics')}\r\n            </div>\r\n            <div  style={{\r\n                position: 'fixed',\r\n                bottom: '77px',\r\n                right: '20px'\r\n            }}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{backgroundColor : '#0FDC06'}}\r\n                    onClick={this.navigateToSuggest}\r\n                >\r\n                   Suggest Asset\r\n                </Button>\r\n            </div>\r\n            <Copyright />\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport {Box, Button, FormControl, List, ListItem} from \"@material-ui/core\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AssetsManager from \"../Database/AssetsManager\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Copyright from \"../Copyright\";\r\n\r\nconst classes = {\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 300,\r\n        backgroundColor: '#d01a1a',\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        maxHeight: 300,\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}\r\n\r\nconst buttonStyle = (customColor) => {\r\n    return {\r\n        backgroundColor : customColor,\r\n        marginTop: '1%',\r\n        marginLeft: '1%',\r\n        width: '10%',\r\n        height: '40px'\r\n    }\r\n}\r\n\r\nexport default class SuggestPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            assetName: \"\",\r\n            theme: \"games\",\r\n            urlList: []\r\n        }\r\n        this.navigateToAssets = this.navigateToAssets.bind(this)\r\n        this.submitSuggestion = this.submitSuggestion.bind(this)\r\n        this.onAssetSearchChange = this.onAssetSearchChange.bind(this)\r\n        this.onAssetSubmitChange = this.onAssetSubmitChange.bind(this)\r\n        this.setOpen = this.setOpen.bind(this)\r\n        this.handleOpen = this.handleOpen.bind(this)\r\n        this.handleClose = this.handleClose.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.onAddUrl = this.onAddUrl.bind(this)\r\n        this.onRemoveUrl = this.onRemoveUrl.bind(this)\r\n        this.onChangeUrl = this.onChangeUrl.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            theme: event.target.value\r\n        })\r\n    };\r\n    setOpen(state) {\r\n        this.setState({\r\n            opened: state\r\n        })\r\n    }\r\n\r\n    handleClose() {\r\n        this.setOpen(false);\r\n    }\r\n\r\n    handleOpen() {\r\n        this.setOpen(true);\r\n    }\r\n\r\n    onAssetSubmitChange(event, value) {\r\n        this.setState({\r\n            assetName: value ? value.name : \"\"\r\n        })\r\n    }\r\n\r\n    onAssetSearchChange(event) {\r\n        const value = event.target.value\r\n        this.setState({\r\n            assetName: value ? value : \"\"\r\n        })\r\n    }\r\n\r\n    onAddUrl(event) {\r\n        this.state.urlList.push({\r\n            link: \"\",\r\n            start: 0\r\n        })\r\n        this.setState({\r\n            urlList: this.state.urlList\r\n        })\r\n    }\r\n\r\n    onRemoveUrl(index) {\r\n        const isUrlFound = index >= 0 && index < this.state.urlList.length\r\n\r\n        if (isUrlFound) {\r\n            this.state.urlList.splice(index, 1)\r\n            this.setState({\r\n                urlList: this.state.urlList\r\n            })\r\n        }\r\n    }\r\n\r\n    onChangeUrl(index, value, isLink) {\r\n        const isUrlFound = index >= 0 && index < this.state.urlList.length\r\n\r\n        if (isUrlFound) {\r\n            const urlList = this.state.urlList\r\n            if (isLink) {\r\n                urlList[index].link = value\r\n            } else {\r\n                urlList[index].start = parseInt(value)\r\n            }\r\n            this.setState({\r\n                urlList: urlList\r\n            })\r\n        }\r\n    }\r\n\r\n    renderAssetSearch(asset, name) {\r\n        return <div style={{\r\n            backgroundColor: '#ffffff',\r\n            display: 'inline-block',\r\n            'verticalAlign': 'middle'}}>\r\n            <Autocomplete freeSolo color='inherit'\r\n                          onInput={this.onAssetSearchChange}\r\n                          onChange={this.onAssetSubmitChange}\r\n                          id={`combo-box-${name}`}\r\n                          options={asset}\r\n                          getOptionLabel={(option) => option.name}\r\n                          style={{ width: 300 }}\r\n                          renderInput={(params) => <TextField {...params} value={this.state.assetName} label={name} variant=\"outlined\" />}\r\n            />\r\n        </div>\r\n    }\r\n\r\n    renderUrlList() {\r\n        return <div style={classes.root}>\r\n            <List style={{backgroundColor: '#ffffff', color: '#000000'}} subheader={<li />}>\r\n                {this.state.urlList.map((element, index) => {\r\n                    return <li key={index} style={classes.listSection}>\r\n                        <ul style={classes.ul}>\r\n                            <ListItem key={`item-${index}`}>\r\n                                <TextField value={element.link} label=\"link\" onChange={(event) => this.onChangeUrl(index, event.target.value, true)}/>\r\n                                <TextField type=\"number\" value={element.start} label=\"start\" onChange={(event) => this.onChangeUrl(index, event.target.value, false)}/>\r\n                                <Button variant=\"contained\" color=\"secondary\" startIcon={<DeleteIcon/>} onClick={event => this.onRemoveUrl(index)} />\r\n                            </ListItem>\r\n                        </ul>\r\n                    </li>\r\n                })}\r\n            </List>\r\n        </div>\r\n    }\r\n\r\n    submitSuggestion() {\r\n        //Submit\r\n        /*\r\n        assetName: \"\",\r\n            theme: \"games\",\r\n            urlList: []\r\n         */\r\n        const name = this.state.assetName\r\n        const theme = this.state.theme\r\n        const url = this.state.urlList\r\n\r\n        if (!name || !theme || url.length <= 0) {\r\n            console.log(name)\r\n            alert(\"missing arguments name or theme or url\")\r\n            return\r\n        }\r\n\r\n        let error = false\r\n        url.forEach((link, index) => {\r\n            if (!link.link || link.start < 0) {\r\n                alert(\"Wrong argument in url nb \" + index)\r\n                error = true\r\n            }\r\n        })\r\n\r\n        if (error) {\r\n            return\r\n        }\r\n\r\n        const asset = {\r\n            theme: theme,\r\n            name: name,\r\n            url: url\r\n        }\r\n        AssetsManager.suggestNewAsset(asset)\r\n    }\r\n\r\n    navigateToAssets() {\r\n        this.props.history.push('/assets')\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n            <Button variant=\"contained\" style={buttonStyle('#4c54dd')} onClick={this.navigateToAssets}>\r\n                Cancel\r\n            </Button>\r\n            <Box align='center'>\r\n                <FormControl component=\"fieldset\" style={{ marginTop: '5%' }}>\r\n                    <Select\r\n                        labelId=\"select-asset-theme\"\r\n                        id=\"select-asset-theme\"\r\n                        open={this.state.open}\r\n                        onClose={this.handleClose}\r\n                        onOpen={this.handleOpen}\r\n                        value={this.state.theme}\r\n                        onChange={this.handleChange}\r\n                        style={{backgroundColor: '#ffffff'}}\r\n                        inputProps={{\r\n                            style: {\r\n                                color: 'white'\r\n                            }\r\n                        }}\r\n                    >\r\n                        <MenuItem value=\"\"><em>None</em></MenuItem>\r\n                        <MenuItem value='games'>Video Games</MenuItem>\r\n                        <MenuItem value='animes'>Anime</MenuItem>\r\n                        <MenuItem value='films'>Films</MenuItem>\r\n                        <MenuItem value='musics'>Musics</MenuItem>\r\n                    </Select>\r\n                    {this.state.theme === 'games' && this.renderAssetSearch(AssetsManager.ThemeList.games, \"Asset Name\")}\r\n                    {this.state.theme === 'animes' && this.renderAssetSearch(AssetsManager.ThemeList.animes, \"Asset Name\")}\r\n                    {this.state.theme === 'films' && this.renderAssetSearch(AssetsManager.ThemeList.films, \"Asset Name\")}\r\n                    {this.state.theme === 'musics' && this.renderAssetSearch(AssetsManager.ThemeList.musics, \"Asset Name\")}\r\n                    {this.renderUrlList()}\r\n                    {this.state.theme && <Button variant=\"contained\" style={{backgroundColor: '#4a6b58'}} onClick={this.onAddUrl}>\r\n                        Add Url\r\n                    </Button>}\r\n                </FormControl>\r\n            </Box>\r\n            <div  style={{\r\n                position: 'fixed',\r\n                bottom: '77px',\r\n                right: '20px'\r\n            }}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{backgroundColor : '#0FDC06'}}\r\n                    onClick={this.submitSuggestion}\r\n                >\r\n                    Suggest Asset\r\n                </Button>\r\n            </div>\r\n            <Copyright/>\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    List,\r\n    ListItem,\r\n    ListItemText, Button\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport {Helmet} from \"react-helmet\";\r\nimport Copyright from \"../Copyright\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AssetsManager from \"../Database/AssetsManager\";\r\n\r\nfunction renderRow(props) {\r\n    const { index, style } = props;\r\n\r\n    return (\r\n        <ListItem style={style} key={index}>\r\n            <ListItemText primary={`Item ${index + 1}`} />\r\n        </ListItem>\r\n    );\r\n}\r\n\r\nrenderRow.propTypes = {\r\n    index: PropTypes.number.isRequired,\r\n    style: PropTypes.object.isRequired,\r\n};\r\n\r\nconst classes = {\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: 300,\r\n        backgroundColor: '#d01a1a',\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        maxHeight: 300,\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}\r\n\r\nconst buttonStyle = (customColor) => {\r\n    return {\r\n        backgroundColor : customColor,\r\n        marginTop: '1%',\r\n        marginLeft: '1%',\r\n        width: '10%',\r\n        height: '40px'\r\n    }\r\n}\r\n\r\n\r\nexport default class AdminSuggestionPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            'selection-suggestions': {}\r\n        }\r\n\r\n        this.onListSearchUpdate = this.onListSearchUpdate.bind(this)\r\n        this.navigateToMenu = this.navigateToMenu.bind(this)\r\n        this.navigateToSuggest = this.navigateToSuggest.bind(this)\r\n        this.handleSuggestion = this.handleSuggestion.bind(this)\r\n    }\r\n\r\n    redirectToUrl(event, url) {\r\n        const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\r\n        if (newWindow) {\r\n            newWindow.opener = null\r\n        }\r\n    }\r\n\r\n    onListSearchUpdate(event, value) {\r\n        const stateObject = function () {\r\n            const returnObj = {};\r\n            const key = event.target.id.split('-')[2]\r\n            if (!key) {\r\n                returnObj['selection-suggestions'] = {};\r\n            } else {\r\n                const associatedKey = `selection-${key}`.toLowerCase()\r\n                returnObj[associatedKey] = value !== null ? value : {};\r\n            }\r\n            return returnObj;\r\n        }.bind(event)();\r\n\r\n        this.setState(stateObject)\r\n    }\r\n\r\n    renderAssetList(asset, name) {\r\n        /*return <div>\r\n            <FixedSizeList height={400} width={300} itemSize={46} itemCount={length}>\r\n                {renderRow}\r\n            </FixedSizeList>\r\n        </div>*/\r\n        const associatedKey = `selection-${name}`.toLowerCase()\r\n\r\n        if (!this.state[associatedKey] || !this.state[associatedKey].url) {\r\n            return <div/>\r\n        }\r\n        return <div style={classes.root}>\r\n            <List style={{backgroundColor: '#ffffff', color: '#000000'}} subheader={<li />}>\r\n                {this.state[associatedKey].url.map((element) => (\r\n                    <li key={element.link} style={classes.listSection}>\r\n                        <ul style={classes.ul}>\r\n                            <ListItem button onClick={event => this.redirectToUrl(event, element.link)} key={`item-${element.link}`}>\r\n                                <ListItemText primary={element.link} />\r\n                                <ListItemText primary={element.start} />\r\n                            </ListItem>\r\n                        </ul>\r\n                    </li>\r\n                ))}\r\n            </List>\r\n        </div>\r\n    }\r\n\r\n    renderAssetSearch(asset, name) {\r\n        const associatedValue = `selection-${name}`\r\n        return <div style={{\r\n            backgroundColor: '#ffffff',\r\n            display: 'inline-block',\r\n            'verticalAlign': 'middle'}}>\r\n            <Autocomplete color='inherit'\r\n                          onChange={this.onListSearchUpdate}\r\n                          id={`combo-box-${name}`}\r\n                          options={asset}\r\n                          getOptionLabel={(option) => `${option.name} (${option.theme})`}\r\n                          style={{ width: 300 }}\r\n                          renderInput={(params) => <TextField {...params} value={this.state[associatedValue]} label={name} variant=\"outlined\" />}\r\n            />\r\n            {this.renderAssetList(asset, name)}\r\n        </div>\r\n    }\r\n\r\n    /** @param {boolean} validate */\r\n    handleSuggestion(validate) {\r\n\r\n        console.log(\"handle suggestion with validation: \" + validate)\r\n        //validate: true or false\r\n        const suggestion = this.state['selection-suggestions']\r\n\r\n        if (suggestion) {\r\n            AssetsManager.HandleSuggestion(suggestion, validate)\r\n        }\r\n    }\r\n\r\n    navigateToMenu() {\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    navigateToSuggest() {\r\n        this.props.history.push('/assets/suggest')\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Helmet bodyAttributes={{style: 'background-color : #282D35'}}/>\r\n            <Button variant=\"contained\" style={buttonStyle('#4c54dd')} onClick={this.navigateToMenu}>\r\n                Menu\r\n            </Button>\r\n            <div style={{\r\n                width: '50%',\r\n                height: '50%',\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: '50%',\r\n                transform: 'translate(-50%, -50%)'\r\n            }}>\r\n                {this.renderAssetSearch(AssetsManager.getSuggestions(), 'Suggestions')}\r\n            </div>\r\n            <div  style={{\r\n                position: 'fixed',\r\n                bottom: '77px',\r\n                right: '120px'\r\n            }}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{backgroundColor : '#f50404'}}\r\n                    onClick={event => this.handleSuggestion(false)}\r\n                >\r\n                    Reject\r\n                </Button>\r\n            </div>\r\n            <div  style={{\r\n                position: 'fixed',\r\n                bottom: '77px',\r\n                right: '20px'\r\n            }}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{backgroundColor : '#0FDC06'}}\r\n                    onClick={event => this.handleSuggestion(true)}\r\n                >\r\n                   Accept\r\n                </Button>\r\n            </div>\r\n            <Copyright />\r\n        </div>\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {Route, HashRouter} from 'react-router-dom';\r\nimport Checkout from './Configuration/Checkout';\r\nimport BlindtestGenerator from \"./Session/BlindtestGenerator\";\r\nimport HomePage from \"./Home/HomePage\";\r\nimport ContributorsPage from \"./Home/ContributorsPage\";\r\nimport AssetsPage from \"./Home/AssetsPage\";\r\nimport SuggestPage from \"./Home/SuggestPage\";\r\nimport AdminSuggestionPage from \"./Home/AdminSuggestionPage\";\r\n\r\nclass RoutingConfig extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter basename='/'>\r\n                <div>\r\n                    <Route exact path=\"/\" component={HomePage}/>\r\n                    <Route exact path=\"/checkout\" component={Checkout}/>\r\n                    <Route exact path=\"/contributors\" component={ContributorsPage}/>\r\n                    <Route exact path=\"/assets\" component={AssetsPage}/>\r\n                    <Route exact path=\"/assets/suggest\" component={SuggestPage}/>\r\n                    <Route exact path=\"/blindtest\" component={BlindtestGenerator}/>\r\n                    <Route exact path=\"/admin/suggestions\" component={AdminSuggestionPage}/>\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RoutingConfig;","import './App.css';\r\nimport React from \"react\";\r\nimport RoutingConfig from \"./RoutingConfig\";\r\n\r\nfunction App() {\r\n  //Setting up default Values\r\n  window.localStorage.setItem('theme', 'games')\r\n  window.localStorage.setItem('playlist_size', '100')\r\n  window.localStorage.setItem('difficulty', JSON.stringify({\r\n    easy: true,\r\n    medium: true,\r\n    hard: false\r\n  }))\r\n  window.localStorage.setItem('guess_time', '13')\r\n  window.localStorage.setItem('wait_time', '5')\r\n  window.localStorage.setItem('allow_same_licence', 'false')\r\n\r\n  return (<RoutingConfig />);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}