(this["webpackJsonpblindtest-generator"]=this["webpackJsonpblindtest-generator"]||[]).push([[0],{259:function(e,t,n){},260:function(e,t,n){},292:function(e,t){},294:function(e,t){},305:function(e,t){},307:function(e,t){},334:function(e,t){},336:function(e,t){},337:function(e,t){},342:function(e,t){},344:function(e,t){},363:function(e,t){},375:function(e,t){},378:function(e,t){},393:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(0),s=n.n(i),o=n(23),r=n.n(o),c=(n(259),n(260),n(19)),l=n(21),u=n(29),d=n(28),h=n(239),b=n(25),j=n(11),g=n(113),m=n(8),p=n(421),f=n(96),v=n(447),O=n(429),x=n(424),y=n(443),k=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),a=t.call(this,e);var i=window.localStorage.getItem("theme");return a.defaultTheme=i||"games",a.state={opened:!1,theme:a.defaultTheme,classes:Object(p.a)((function(e){return{button:{display:"block",marginTop:e.spacing(2)},select:{backgroundColor:"white","&:before":{borderColor:"#eaeaf0"},"&:after":{borderColor:"#0FDC06"}},icon:{fill:"#0FDC06"},formControl:{margin:e.spacing(1),minWidth:120}}}))},a.setOpen=a.setOpen.bind(Object(j.a)(a)),a.handleOpen=a.handleOpen.bind(Object(j.a)(a)),a.handleClose=a.handleClose.bind(Object(j.a)(a)),a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"handleChange",value:function(e){window.localStorage.setItem("theme",e.target.value),this.setState({theme:e.target.value})}},{key:"setOpen",value:function(e){this.setState({opened:e})}},{key:"handleClose",value:function(){this.setOpen(!1)}},{key:"handleOpen",value:function(){this.setOpen(!0)}},{key:"render",value:function(){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(f.a,{variant:"h6",gutterBottom:!0,align:"center",style:{color:"white"},children:"Select Theme"}),Object(a.jsx)(v.a,{align:"center",children:Object(a.jsx)(x.a,{style:{marginTop:"10%",minWidth:300},children:Object(a.jsxs)(y.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:this.state.open,onClose:this.handleClose,onOpen:this.handleOpen,value:this.state.theme,onChange:this.handleChange,defaultValue:this.defaultTheme,style:{color:"#ffffff"},inputProps:{style:{color:"white"},classes:{icon:this.state.classes.icon}},children:[Object(a.jsx)(O.a,{value:"",children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)(O.a,{value:"games",children:"Video Games"}),Object(a.jsx)(O.a,{value:"animes",children:"Anime"}),Object(a.jsx)(O.a,{value:"films",children:"Films"})]})})})]})}}]),n}(s.a.Component),S=n(430),w={games:"Video Games",animes:"Animes",films:"Movies"};function C(){var e=window.localStorage.getItem("theme"),t="true"===window.localStorage.getItem("allow_same_licence");return"".concat(w[e]," (").concat(t?"Multiple selection per Licence":"One selection per Licence",")")}function T(){var e=window.localStorage.getItem("playlist_size");return"".concat(e," elements in this playlist")}function A(){var e=window.localStorage.getItem("guess_time"),t=window.localStorage.getItem("wait_time");return"".concat(e," sec to guess then ").concat(t," before next guess")}function I(){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(f.a,{variant:"h6",gutterBottom:!0,align:"center",style:{color:"white"},children:"Configuration summary"}),Object(a.jsx)(f.a,{variant:"h6",gutterBottom:!0,align:"center",children:Object(a.jsxs)(S.a,{container:!0,spacing:5,style:{marginTop:"5%"},children:[Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:"Theme"})}),Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:C()})})]},"Theme"),Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:"Size of Playlist"})}),Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:T()})})]},"Size of Playlist"),Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:"Guess/Answer Time"})}),Object(a.jsx)(S.a,{item:!0,xs:6,children:Object(a.jsx)(f.a,{gutterBottom:!0,style:{color:"white"},children:A()})})]},"Guess Time")]})})]})}var L=n(5),D=n(230),_=n.n(D),M=n(449),B=n(450),U=n(432),E=n(433),F=n(446),P=n(155),G=n.n(P),z=G()({switchBase:{color:"#0CB804","&$checked":{color:"#0CB804"},"&$checked + $track":{backgroundColor:"#48DF40"}},checked:{},track:{}})(M.a),V=G()({root:{color:"#137E0E"},track:{height:3,borderRadius:2},thumb:{height:15,width:15,backgroundColor:"#0CB804",border:"2px solid currentColor","&:focus, &:hover, &$active":{boxShadow:"#137E0E 0 2px 3px 1px"},color:"#0CB804"},active:{}})(B.a),N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),a=t.call(this,e);var i=parseInt(window.localStorage.getItem("playlist_size")),s=parseInt(window.localStorage.getItem("guess_time")),o=parseInt(window.localStorage.getItem("wait_time")),r="true"===window.localStorage.getItem("allow_same_licence");return a.defaultplaylistSize=i||100,a.defaultGuessTime=s||13,a.defaultWaitTime=o||5,a.state={opened:!1,playlistSize:a.defaultplaylistSize,guessTime:a.defaultGuessTime,waitTime:a.defaultWaitTime,allowSameLicence:r,classes:Object(p.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}}))},a.updatePlaylistSize=a.updatePlaylistSize.bind(Object(j.a)(a)),a.updateGuessTime=a.updateGuessTime.bind(Object(j.a)(a)),a.updateWaitTime=a.updateWaitTime.bind(Object(j.a)(a)),a.handleSwitchChange=a.handleSwitchChange.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"valuetext",value:function(e){return"".concat(e)}},{key:"updatePlaylistSize",value:function(e){var t=parseInt(e.target.value);t||window.localStorage.setItem("playlist_size","0"),this.setState({playlistSize:t}),window.localStorage.setItem("playlist_size",t?t.toString():"0")}},{key:"updateGuessTime",value:function(e){var t=this.state.guessTime,n=parseInt(e.target.innerText);n&&t!==n&&(this.setState({guessTime:n}),window.localStorage.setItem("guess_time",n.toString()))}},{key:"updateWaitTime",value:function(e){var t=this.state.waitTime,n=parseInt(e.target.innerText);n&&t!==n&&(this.setState({waitTime:n}),window.localStorage.setItem("wait_time",n.toString()))}},{key:"handleSwitchChange",value:function(e){window.localStorage.setItem("allow_same_licence",e.target.checked.toString()),this.setState({allowSameLicence:e.target.checked})}},{key:"render",value:function(){return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(f.a,{variant:"h6",align:"center",style:{color:"white"},children:"Customize Blindtest"}),Object(a.jsx)(v.a,{align:"center",children:Object(a.jsxs)(x.a,{component:"fieldset",style:{marginTop:"5%"},children:[Object(a.jsxs)(U.a,{children:[Object(a.jsx)(E.a,{component:"legend",style:{color:"#DCDDDC"},children:"Size of Playlist"}),Object(a.jsx)(F.a,{type:"number",inputProps:{min:0,style:{textAlign:"center",color:"white"}},value:this.state.playlistSize,onChange:this.updatePlaylistSize,name:"numberformat",id:"formatted-numberformat-input"})]}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)(E.a,{component:"legend",style:{marginBottom:"40px",marginTop:"40px",color:"#DCDDDC"},children:"Guess Time"}),Object(a.jsx)(V,{defaultValue:this.defaultGuessTime,onChange:this.updateGuessTime,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:1,marks:!0,min:5,max:20})]}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)(E.a,{component:"legend",style:{marginBottom:"40px",marginTop:"40px",color:"#DCDDDC"},children:"Time before next Guess"}),Object(a.jsx)(V,{defaultValue:this.defaultWaitTime,onChange:this.updateWaitTime,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:1,marks:!0,min:1,max:10})]}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)(E.a,{component:"legend",style:{marginTop:"40px",color:"#DCDDDC"},children:"Allow multiple selection per Licence"}),Object(a.jsx)(v.a,{align:"center",children:Object(a.jsx)(z,{checked:this.state.allowSameLicence,onChange:this.handleSwitchChange,name:"allow-same_licence"})})]})]})})]})}}]),n}(s.a.Component),W=n(231),H=n.n(W),R=n(444),K=n(398),$=n(435),J=n(436),Y=n(437),Q=n(438),Z=n(431),q=n(240),X=n(428),ee=n(397),te=n(439),ne=n(440),ae=n(445),ie=n(39),se=n(434);function oe(){return Object(a.jsx)("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translate(-50%, -50%)"},children:Object(a.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",style:{backgroundColor:"#282D35",color:"white"},children:["v4.4 - Copyright \xa9 ",Object(a.jsx)(se.a,{color:"inherit",href:"https://github.com/Emolitt/blindtest-generator",target:"_blank",children:"Emolitt"})," ",(new Date).getFullYear(),"."]})})}var re=Object(m.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#0FDC06"}},completed:{"& $line":{borderColor:"#0FDC06"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(K.a),ce=Object(p.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#0FDC06"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#0FDC06",zIndex:1,fontSize:18}});function le(e){var t=ce(),n=e.active,i=e.completed;return Object(a.jsx)("div",{className:Object(L.a)(t.root,Object(g.a)({},t.active,n)),children:i?Object(a.jsx)(_.a,{className:t.completed}):Object(a.jsx)("div",{className:t.circle})})}var ue=["Select theme","Select Parameters","Validate"],de=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={activeStep:0,anchorEl:null,openedHelp:!1},a.setActiveStep=a.setActiveStep.bind(Object(j.a)(a)),a.setAnchorEl=a.setAnchorEl.bind(Object(j.a)(a)),a.handleMenu=a.handleMenu.bind(Object(j.a)(a)),a.handleClose=a.handleClose.bind(Object(j.a)(a)),a.handleBack=a.handleBack.bind(Object(j.a)(a)),a.handleNext=a.handleNext.bind(Object(j.a)(a)),a.startBlindtest=a.startBlindtest.bind(Object(j.a)(a)),a.navigateToMenu=a.navigateToMenu.bind(Object(j.a)(a)),window.localStorage.setItem("session_id",""),a}return Object(l.a)(n,[{key:"getStepContent",value:function(){switch(this.state.activeStep){case 0:return Object(a.jsx)(k,{});case 1:return Object(a.jsx)(N,{});case 2:return Object(a.jsx)(I,{});default:throw new Error("Unknown step")}}},{key:"startBlindtest",value:function(){window.localStorage.setItem("session_id",Object(R.a)()),this.props.history.push("/blindtest")}},{key:"setActiveStep",value:function(e){this.setState({activeStep:e})}},{key:"setAnchorEl",value:function(e){this.setState({anchorEl:e,openedHelp:Boolean(e)})}},{key:"handleNext",value:function(){this.setActiveStep(this.state.activeStep+1)}},{key:"handleBack",value:function(){this.setActiveStep(this.state.activeStep-1)}},{key:"handleMenu",value:function(e){this.setAnchorEl(e.currentTarget)}},{key:"handleClose",value:function(){this.setAnchorEl(null)}},{key:"navigateToMenu",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)($.a,{}),Object(a.jsx)(J.a,{position:"absolute",style:{backgroundColor:"#282D35",flex:1},children:Object(a.jsxs)(Y.a,{children:[Object(a.jsx)(Q.a,{onClick:this.navigateToMenu,style:{color:"#ffffff"},children:Object(a.jsx)(f.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Blindtest Generator"})}),Object(a.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(a.jsx)(Z.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:this.handleMenu,color:"inherit",children:Object(a.jsx)(H.a,{})}),Object(a.jsxs)(q.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.openedHelp,onClose:this.handleClose,children:[Object(a.jsx)(f.a,{variant:"h6",align:"center",children:"Input List"}),Object(a.jsx)("div",{children:Object(a.jsxs)(X.a,{children:[Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Arrow Up"}),": Volume Up (Max 100)"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Arrow Down"}),": Volume Down (Min 0)"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Arrow Left"}),": Restart Current Element"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Arrow Right"}),": Skip Element"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Space"}),": Toggle Pause/Play"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"Escape"}),": Go Back to Menu"]}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)("strong",{children:"F11"}),": Toggle Fullscreen"]})]})})]})]})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(f.a,{component:"h1",variant:"h4",align:"center",children:"Configure"}),Object(a.jsx)(te.a,{style:{backgroundColor:"#282D35"},alternativeLabel:!0,activeStep:this.state.activeStep,connector:Object(a.jsx)(re,{}),children:ue.map((function(e){return Object(a.jsx)(ne.a,{children:Object(a.jsx)(ae.a,{StepIconComponent:le,children:e})},e)}))})]}),Object(a.jsx)(v.a,{children:Object(a.jsx)(s.a.Fragment,{children:this.getStepContent()})}),Object(a.jsxs)("div",{style:{position:"fixed",bottom:"77px",right:"20px"},children:[0!==this.state.activeStep&&Object(a.jsx)(Q.a,{onClick:this.handleBack,style:{color:"#0FDC06"},children:"Back"}),Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#0FDC06"},onClick:this.state.activeStep===ue.length-1?this.startBlindtest:this.handleNext,children:this.state.activeStep===ue.length-1?"Start":"Next"})]}),Object(a.jsx)(oe,{})]})]})}}]),n}(s.a.Component),he=n(156),be=n(122);be.a.initializeApp({apiKey:"AIzaSyCc6i9P3LgnWccwerba9czccMpSLk_nUIY",authDomain:"blindtest-generator-v4.firebaseapp.com",projectId:"blindtest-generator-v4",storageBucket:"blindtest-generator-v4.appspot.com",messagingSenderId:"557555686086",appId:"1:557555686086:web:4ff48d30ee9c2d65cad5c7",measurementId:"G-QVSHBRHZES"}),be.a.analytics();var je=be.a,ge=function(){function e(t){Object(c.a)(this,e),this.name=t.name,this.url=t.url}return Object(l.a)(e,[{key:"toJson",value:function(){return{name:this.name,url:this.url}}}]),e}(),me=function e(t,n){Object(c.a)(this,e),this.uid=n,this.name=t.name,this.theme=t.theme,this.url=t.url},pe=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getAssetsOfCollection",value:function(e){var t=[];return je.firestore().collection(e).get().then((function(e){e.docs.forEach((function(e){t.push(new ge(e.data()))}))})),t}},{key:"setAssetsOfCollection",value:function(e,t){e.forEach((function(e){je.firestore().collection(t).doc(e.name).set(e)}))}},{key:"suggestNewAsset",value:function(e){var t=Object(R.a)();je.firestore().collection("suggestions").doc(t).set(e)}},{key:"getSuggestions",value:function(){var e=[];return je.firestore().collection("suggestions").get().then((function(t){t.docs.forEach((function(t){e.push(new me(t.data(),t.id))}))})),e}},{key:"HandleSuggestion",value:function(e,t){t&&je.firestore().collection(e.theme).doc(e.name).get().then((function(t){var n=new ge(t.data());n.url=n.url.concat(e.url),je.firestore().collection(e.theme).doc(e.name).set(n.toJson())})).catch((function(t){je.firestore().collection(e.theme).doc(e.name).set(new ge(e).toJson())})),je.firestore().collection("suggestions").doc(e.uid).delete()}}]),e}();pe.ThemeList={games:pe.getAssetsOfCollection("games"),animes:pe.getAssetsOfCollection("animes"),films:pe.getAssetsOfCollection("films")};var fe=new he.b(he.a.autoSeed()),ve={games:pe.ThemeList.games,animes:pe.ThemeList.animes,films:pe.ThemeList.films},Oe=function(e,t,n){var a=fe.shuffle(ve[e]);return!0===n?function(e){var t=e.map((function(e){return e.url.map((function(t){return{name:e.name,url:t.link.split("=")[1],start:t.start}}))}));return fe.shuffle(t.flat(1))}(a).slice(0,t):a.slice(0,t).map((function(e){var t=fe.shuffle(e.url)[0];return{name:e.name,url:t.link.split("=")[1],start:t.start}}))},xe=n(233),ye=n.n(xe);var ke={HandleVolumeDown:function(e){var t=e.getVolume();e.setVolume(t-10)},HandleVolumeUp:function(e){var t=e.getVolume();e.setVolume(t+10)},HandlePause:function(e){var t=e.getPlayerState();1===t?e.pauseVideo():2===t&&e.playVideo()}},Se=n(234),we=-1,Ce=1,Te=2,Ae=3,Ie=4,Le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;Object(c.a)(this,n),(i=t.call(this,e))._onReady=function(e){e.target.playVideo(),i.setState({playerObj:e.target}),console.log("ready to play video")},i._onPlay=function(e){console.log("video started"),i.setState({loaded:!0,playlistIndex:i.state.playlistIndex+1})},i._onEnd=function(e){e.target.stopVideo(),console.log("stop video")},i._onError=function(e){alert("[".concat(i.state.currMusic.name,"]: Failed to load video with id: ").concat(i.state.currMusic.url)),i.setState({error:!0})},i._onStateChange=function(e){console.log("state changed: "+e.data),e.data},i.updatePlayer=function(e){var t=10;return i.setState({loaded:!1,error:!1}),new Promise((function(n,s){if(0!==i.playlist.length){var o=!0===e?i.playlist.shift():i.playlist[0],r={height:window.screen.height-5,width:window.screen.width,playerVars:{autoplay:1,start:o.start,end:o.start+i.guessTime+i.answerTime,fs:0,origin:window.location}};console.log("init Player"),i.setState({currMusic:o,player:Object(a.jsx)(Se.a,{videoId:o.url,opts:r,onReady:i._onReady,onPlay:i._onPlay,onEnd:i._onEnd,onError:i._onError,onStateChange:i._onStateChange})});var c=setInterval((function(){t--,!0===i.state.loaded?(clearInterval(c),n()):(t<=0||!0===i.state.error)&&(console.log("Failed to load music"),clearInterval(c),s())}),1e3)}else s()}))},i.doneAction=function(e,t){clearInterval(e),i.setState({status:we,display:!1,counter:i.guessTime}),i.nextGuess(t)},i.checkStatus=function(e){switch(i.state.status){case Te:return!0;case Ae:return i.doneAction(e,!1),!0;case Ie:return void i.doneAction(e,!0)}};var s=window.localStorage.getItem("session_id"),o=window.localStorage.getItem("playlist_size"),r="true"===window.localStorage.getItem("allow_same_licence"),l=window.localStorage.getItem("theme");return i.guessTime=parseInt(window.localStorage.getItem("guess_time")),i.waitTime=parseInt(window.localStorage.getItem("wait_time")),i.playlist=Oe(l,o,r),i.state={display:!1,status:we,counter:i.guessTime,player:void 0,playerObj:null,playlistIndex:0,currMusic:null,loaded:!1,error:!1,stop:!1},i.nextGuess=i.nextGuess.bind(Object(j.a)(i)),i.updatePlayer=i.updatePlayer.bind(Object(j.a)(i)),i._onError=i._onError.bind(Object(j.a)(i)),i._onPlay=i._onPlay.bind(Object(j.a)(i)),i._onReady=i._onReady.bind(Object(j.a)(i)),i.startGuessTime=i.startGuessTime.bind(Object(j.a)(i)),i.startAnswerTime=i.startAnswerTime.bind(Object(j.a)(i)),i.handleKeyDown=i.handleKeyDown.bind(Object(j.a)(i)),0!==i.playlist.length&&s||i.props.history.push("/"),i}return Object(l.a)(n,[{key:"nextGuess",value:function(e){var t=this;window.localStorage.getItem("session_id")&&(console.log("Starting new guess"),this.updatePlayer(e).then((function(){t.setState({status:Ce,counter:t.guessTime}),t.startGuessTime()})).catch((function(){console.log("erreur du chargement de la music"),0===t.playlist.length?t.props.history.push("/"):t.nextGuess(e)})))}},{key:"startAnswerTime",value:function(){var e=this,t=setInterval((function(){if(!e.checkStatus(t)){var n=e.state.counter;0===n?e.doneAction(t,!0):e.setState({counter:n-1})}}),1e3)}},{key:"startGuessTime",value:function(){var e=this,t=setInterval((function(){if(!e.checkStatus(t)){var n=e.state.counter;1===n?(clearInterval(t),e.setState({display:!0,counter:e.waitTime}),e.startAnswerTime()):e.setState({counter:n-1})}}),1e3)}},{key:"handleKeyDown",value:function(e,t){if(null!==this.state.player)switch(console.log("receiving key: "+e),e){case"up":ke.HandleVolumeUp(this.state.playerObj);break;case"down":ke.HandleVolumeDown(this.state.playerObj);break;case"left":this.setState({status:Ae});break;case"right":this.setState({status:Ie});break;case"space":this.setState({status:this.state.status===Te?Ce:Te}),ke.HandlePause(this.state.playerObj);break;case"esc":this.props.history.push("/")}}},{key:"componentWillMount",value:function(){this.nextGuess(!0)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #242629"}}),!this.state.display&&Object(a.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"200px",color:"#BFC6D0",fontWeight:"bold"},children:this.state.counter}),Object(a.jsx)("div",{style:{display:this.state.display?"":"none"},children:this.state.player}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(ye.a,{handleKeys:["up","down","left","right","space","esc"],onKeyEvent:this.handleKeyDown})})]})}}]),n}(s.a.Component),De={display:"flex",flexDirection:"column",alignItems:"center"},_e=function(e){return{backgroundColor:e,marginTop:"8%",width:"40%",height:"50px"}},Me=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).navigateToCheckout=a.navigateToCheckout.bind(Object(j.a)(a)),a.navigateToAssets=a.navigateToAssets.bind(Object(j.a)(a)),a.navigateToContributors=a.navigateToContributors.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"navigateToCheckout",value:function(){this.props.history.push("/checkout")}},{key:"navigateToAssets",value:function(){this.props.history.push("/assets")}},{key:"navigateToContributors",value:function(){this.props.history.push("/contributors")}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsxs)("div",{style:De,children:[Object(a.jsx)("p",{style:{color:"white"},children:"Update: You can now Add assets by suggesting them in the Asset page !"}),Object(a.jsx)(Q.a,{variant:"contained",style:_e("#0FDC06"),onClick:this.navigateToCheckout,children:"Generate Blindtest"}),Object(a.jsx)(Q.a,{variant:"contained",style:_e("#4c54dd"),onClick:this.navigateToAssets,children:"See Assets Library"}),Object(a.jsx)(Q.a,{variant:"contained",style:_e("#b53ad6"),onClick:this.navigateToContributors,children:"See contributors"})]}),Object(a.jsx)(oe,{})]})}}]),n}(s.a.Component),Be={display:"flex",flexDirection:"column",alignItems:"center",color:"white"},Ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).navigateToMenu=a.navigateToMenu.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"navigateToMenu",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(Q.a,{variant:"contained",style:(e="#4c54dd",{backgroundColor:e,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:this.navigateToMenu,children:"Menu"}),Object(a.jsx)("div",{style:Be,children:Object(a.jsx)(f.a,{color:"inherit",children:"Work In Progress.."})}),Object(a.jsx)(oe,{})]});var e}}]),n}(s.a.Component),Ee=n(55),Fe=n(441),Pe=n(442);var Ge={root:{width:"100%",maxWidth:300,backgroundColor:"#d01a1a",position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}},ze=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={"selection-games":{},"selection-animes":{},"selection-films":{}},a.onListSearchUpdate=a.onListSearchUpdate.bind(Object(j.a)(a)),a.navigateToMenu=a.navigateToMenu.bind(Object(j.a)(a)),a.navigateToSuggest=a.navigateToSuggest.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"redirectToUrl",value:function(e,t){var n=window.open(t,"_blank","noopener,noreferrer");n&&(n.opener=null)}},{key:"onListSearchUpdate",value:function(e,t){var n=function(){var n={},a=e.target.id.split("-")[2];a?n["selection-".concat(a).toLowerCase()]=null!==t?t:{}:(n["selection-games"]={},n["selection-animes"]={},n["selection-films"]={});return n}();this.setState(n)}},{key:"renderAssetList",value:function(e,t){var n=this,i="selection-".concat(t).toLowerCase();return this.state[i]&&this.state[i].url?Object(a.jsx)("div",{style:Ge.root,children:Object(a.jsx)(X.a,{style:{backgroundColor:"#ffffff",color:"#000000"},subheader:Object(a.jsx)("li",{}),children:this.state[i].url.map((function(e){return Object(a.jsx)("li",{style:Ge.listSection,children:Object(a.jsx)("ul",{style:Ge.ul,children:Object(a.jsx)(ee.a,{button:!0,onClick:function(t){return n.redirectToUrl(t,e.link)},children:Object(a.jsx)(Fe.a,{primary:e.link})},"item-".concat(e.link))})},e.link)}))})}):Object(a.jsx)("div",{})}},{key:"renderAssetSearch",value:function(e,t){var n=this,i="selection-".concat(t);return Object(a.jsxs)("div",{style:{backgroundColor:"#ffffff",display:"inline-block",verticalAlign:"middle"},children:[Object(a.jsx)(Pe.a,{color:"inherit",onChange:this.onListSearchUpdate,id:"combo-box-".concat(t),options:e,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return Object(a.jsx)(F.a,Object(Ee.a)(Object(Ee.a)({},e),{},{value:n.state[i],label:t,variant:"outlined"}))}}),this.renderAssetList(e,t)]})}},{key:"navigateToMenu",value:function(){this.props.history.push("/")}},{key:"navigateToSuggest",value:function(){this.props.history.push("/assets/suggest")}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(Q.a,{variant:"contained",style:(e="#4c54dd",{backgroundColor:e,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:this.navigateToMenu,children:"Menu"}),Object(a.jsxs)("div",{style:{width:"50%",height:"50%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[this.renderAssetSearch(pe.ThemeList.games,"Games"),this.renderAssetSearch(pe.ThemeList.animes,"Animes"),this.renderAssetSearch(pe.ThemeList.films,"Films")]}),Object(a.jsx)("div",{style:{position:"fixed",bottom:"77px",right:"20px"},children:Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#0FDC06"},onClick:this.navigateToSuggest,children:"Suggest Asset"})}),Object(a.jsx)(oe,{})]});var e}}]),n}(s.a.Component),Ve=n(238),Ne=n.n(Ve),We={root:{width:"100%",maxWidth:300,backgroundColor:"#d01a1a",position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}},He=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={assetName:"",theme:"games",urlList:[]},e.navigateToAssets=e.navigateToAssets.bind(Object(j.a)(e)),e.submitSuggestion=e.submitSuggestion.bind(Object(j.a)(e)),e.onAssetSearchChange=e.onAssetSearchChange.bind(Object(j.a)(e)),e.onAssetSubmitChange=e.onAssetSubmitChange.bind(Object(j.a)(e)),e.setOpen=e.setOpen.bind(Object(j.a)(e)),e.handleOpen=e.handleOpen.bind(Object(j.a)(e)),e.handleClose=e.handleClose.bind(Object(j.a)(e)),e.handleChange=e.handleChange.bind(Object(j.a)(e)),e.onAddUrl=e.onAddUrl.bind(Object(j.a)(e)),e.onRemoveUrl=e.onRemoveUrl.bind(Object(j.a)(e)),e.onChangeUrl=e.onChangeUrl.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({theme:e.target.value})}},{key:"setOpen",value:function(e){this.setState({opened:e})}},{key:"handleClose",value:function(){this.setOpen(!1)}},{key:"handleOpen",value:function(){this.setOpen(!0)}},{key:"onAssetSubmitChange",value:function(e,t){this.setState({assetName:t?t.name:""})}},{key:"onAssetSearchChange",value:function(e){var t=e.target.value;this.setState({assetName:t||""})}},{key:"onAddUrl",value:function(e){this.state.urlList.push({link:"",start:0}),this.setState({urlList:this.state.urlList})}},{key:"onRemoveUrl",value:function(e){e>=0&&e<this.state.urlList.length&&(this.state.urlList.splice(e,1),this.setState({urlList:this.state.urlList}))}},{key:"onChangeUrl",value:function(e,t,n){if(e>=0&&e<this.state.urlList.length){var a=this.state.urlList;n?a[e].link=t:a[e].start=parseInt(t),this.setState({urlList:a})}}},{key:"renderAssetSearch",value:function(e,t){var n=this;return Object(a.jsx)("div",{style:{backgroundColor:"#ffffff",display:"inline-block",verticalAlign:"middle"},children:Object(a.jsx)(Pe.a,{freeSolo:!0,color:"inherit",onInput:this.onAssetSearchChange,onChange:this.onAssetSubmitChange,id:"combo-box-".concat(t),options:e,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return Object(a.jsx)(F.a,Object(Ee.a)(Object(Ee.a)({},e),{},{value:n.state.assetName,label:t,variant:"outlined"}))}})})}},{key:"renderUrlList",value:function(){var e=this;return Object(a.jsx)("div",{style:We.root,children:Object(a.jsx)(X.a,{style:{backgroundColor:"#ffffff",color:"#000000"},subheader:Object(a.jsx)("li",{}),children:this.state.urlList.map((function(t,n){return Object(a.jsx)("li",{style:We.listSection,children:Object(a.jsx)("ul",{style:We.ul,children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(F.a,{value:t.link,label:"link",onChange:function(t){return e.onChangeUrl(n,t.target.value,!0)}}),Object(a.jsx)(F.a,{type:"number",value:t.start,label:"start",onChange:function(t){return e.onChangeUrl(n,t.target.value,!1)}}),Object(a.jsx)(Q.a,{variant:"contained",color:"secondary",startIcon:Object(a.jsx)(Ne.a,{}),onClick:function(t){return e.onRemoveUrl(n)}})]},"item-".concat(n))})},n)}))})})}},{key:"submitSuggestion",value:function(){var e=this.state.assetName,t=this.state.theme,n=this.state.urlList;if(!e||!t||n.length<=0)return console.log(e),void alert("missing arguments name or theme or url");var a=!1;if(n.forEach((function(e,t){(!e.link||e.start<0)&&(alert("Wrong argument in url nb "+t),a=!0)})),!a){var i={theme:t,name:e,url:n};pe.suggestNewAsset(i)}}},{key:"navigateToAssets",value:function(){this.props.history.push("/assets")}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(Q.a,{variant:"contained",style:(e="#4c54dd",{backgroundColor:e,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:this.navigateToAssets,children:"Cancel"}),Object(a.jsx)(v.a,{align:"center",children:Object(a.jsxs)(x.a,{component:"fieldset",style:{marginTop:"5%"},children:[Object(a.jsxs)(y.a,{labelId:"select-asset-theme",id:"select-asset-theme",open:this.state.open,onClose:this.handleClose,onOpen:this.handleOpen,value:this.state.theme,onChange:this.handleChange,style:{backgroundColor:"#ffffff"},inputProps:{style:{color:"white"}},children:[Object(a.jsx)(O.a,{value:"",children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)(O.a,{value:"games",children:"Video Games"}),Object(a.jsx)(O.a,{value:"animes",children:"Anime"}),Object(a.jsx)(O.a,{value:"films",children:"Films"})]}),"games"===this.state.theme&&this.renderAssetSearch(pe.ThemeList.games,"Asset Name"),"animes"===this.state.theme&&this.renderAssetSearch(pe.ThemeList.animes,"Asset Name"),"films"===this.state.theme&&this.renderAssetSearch(pe.ThemeList.films,"Asset Name"),this.renderUrlList(),this.state.theme&&Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#4a6b58"},onClick:this.onAddUrl,children:"Add Url"})]})}),Object(a.jsx)("div",{style:{position:"fixed",bottom:"77px",right:"20px"},children:Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#0FDC06"},onClick:this.submitSuggestion,children:"Suggest Asset"})}),Object(a.jsx)(oe,{})]});var e}}]),n}(s.a.Component);var Re={root:{width:"100%",maxWidth:300,backgroundColor:"#d01a1a",position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}},Ke=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={"selection-suggestions":{}},a.onListSearchUpdate=a.onListSearchUpdate.bind(Object(j.a)(a)),a.navigateToMenu=a.navigateToMenu.bind(Object(j.a)(a)),a.navigateToSuggest=a.navigateToSuggest.bind(Object(j.a)(a)),a.handleSuggestion=a.handleSuggestion.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"redirectToUrl",value:function(e,t){var n=window.open(t,"_blank","noopener,noreferrer");n&&(n.opener=null)}},{key:"onListSearchUpdate",value:function(e,t){var n=function(){var n={},a=e.target.id.split("-")[2];a?n["selection-".concat(a).toLowerCase()]=null!==t?t:{}:n["selection-suggestions"]={};return n}.bind(e)();this.setState(n)}},{key:"renderAssetList",value:function(e,t){var n=this,i="selection-".concat(t).toLowerCase();return this.state[i]&&this.state[i].url?Object(a.jsx)("div",{style:Re.root,children:Object(a.jsx)(X.a,{style:{backgroundColor:"#ffffff",color:"#000000"},subheader:Object(a.jsx)("li",{}),children:this.state[i].url.map((function(e){return Object(a.jsx)("li",{style:Re.listSection,children:Object(a.jsx)("ul",{style:Re.ul,children:Object(a.jsxs)(ee.a,{button:!0,onClick:function(t){return n.redirectToUrl(t,e.link)},children:[Object(a.jsx)(Fe.a,{primary:e.link}),Object(a.jsx)(Fe.a,{primary:e.start})]},"item-".concat(e.link))})},e.link)}))})}):Object(a.jsx)("div",{})}},{key:"renderAssetSearch",value:function(e,t){var n=this,i="selection-".concat(t);return Object(a.jsxs)("div",{style:{backgroundColor:"#ffffff",display:"inline-block",verticalAlign:"middle"},children:[Object(a.jsx)(Pe.a,{color:"inherit",onChange:this.onListSearchUpdate,id:"combo-box-".concat(t),options:e,getOptionLabel:function(e){return"".concat(e.name," (").concat(e.theme,")")},style:{width:300},renderInput:function(e){return Object(a.jsx)(F.a,Object(Ee.a)(Object(Ee.a)({},e),{},{value:n.state[i],label:t,variant:"outlined"}))}}),this.renderAssetList(e,t)]})}},{key:"handleSuggestion",value:function(e){console.log("handle suggestion with validation: "+e);var t=this.state["selection-suggestions"];t&&pe.HandleSuggestion(t,e)}},{key:"navigateToMenu",value:function(){this.props.history.push("/")}},{key:"navigateToSuggest",value:function(){this.props.history.push("/assets/suggest")}},{key:"render",value:function(){var e,t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{bodyAttributes:{style:"background-color : #282D35"}}),Object(a.jsx)(Q.a,{variant:"contained",style:(e="#4c54dd",{backgroundColor:e,marginTop:"1%",marginLeft:"1%",width:"10%",height:"40px"}),onClick:this.navigateToMenu,children:"Menu"}),Object(a.jsx)("div",{style:{width:"50%",height:"50%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:this.renderAssetSearch(pe.getSuggestions(),"Suggestions")}),Object(a.jsx)("div",{style:{position:"fixed",bottom:"77px",right:"120px"},children:Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#f50404"},onClick:function(e){return t.handleSuggestion(!1)},children:"Reject"})}),Object(a.jsx)("div",{style:{position:"fixed",bottom:"77px",right:"20px"},children:Object(a.jsx)(Q.a,{variant:"contained",style:{backgroundColor:"#0FDC06"},onClick:function(e){return t.handleSuggestion(!0)},children:"Accept"})}),Object(a.jsx)(oe,{})]})}}]),n}(s.a.Component),$e=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(h.a,{basename:"/",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{exact:!0,path:"/",component:Me}),Object(a.jsx)(b.a,{exact:!0,path:"/checkout",component:de}),Object(a.jsx)(b.a,{exact:!0,path:"/contributors",component:Ue}),Object(a.jsx)(b.a,{exact:!0,path:"/assets",component:ze}),Object(a.jsx)(b.a,{exact:!0,path:"/assets/suggest",component:He}),Object(a.jsx)(b.a,{exact:!0,path:"/blindtest",component:Le}),Object(a.jsx)(b.a,{exact:!0,path:"/admin/suggestions",component:Ke})]})})}}]),n}(i.Component);var Je=function(){return window.localStorage.setItem("theme","games"),window.localStorage.setItem("playlist_size","100"),window.localStorage.setItem("guess_time","13"),window.localStorage.setItem("wait_time","5"),window.localStorage.setItem("allow_same_licence","false"),Object(a.jsx)($e,{})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,451)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),s(e),o(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Je,{})}),document.getElementById("root")),Ye()}},[[393,1,2]]]);
//# sourceMappingURL=main.3b0b054a.chunk.js.map